ARM GAS  /tmp/ccwpGFja.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4xx_dma.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "./Library/stm32f4xx_dma.c"
  20              		.section	.text.DMA_DeInit,"ax",%progbits
  21              		.align	1
  22              		.global	DMA_DeInit
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	DMA_DeInit:
  28              	.LVL0:
  29              	.LFB123:
   1:./Library/stm32f4xx_dma.c **** /**
   2:./Library/stm32f4xx_dma.c ****   ******************************************************************************
   3:./Library/stm32f4xx_dma.c ****   * @file    stm32f4xx_dma.c
   4:./Library/stm32f4xx_dma.c ****   * @author  MCD Application Team
   5:./Library/stm32f4xx_dma.c ****   * @version V1.8.1
   6:./Library/stm32f4xx_dma.c ****   * @date    27-January-2022
   7:./Library/stm32f4xx_dma.c ****   * @brief   This file provides firmware functions to manage the following 
   8:./Library/stm32f4xx_dma.c ****   *          functionalities of the Direct Memory Access controller (DMA):           
   9:./Library/stm32f4xx_dma.c ****   *           + Initialization and Configuration
  10:./Library/stm32f4xx_dma.c ****   *           + Data Counter
  11:./Library/stm32f4xx_dma.c ****   *           + Double Buffer mode configuration and command  
  12:./Library/stm32f4xx_dma.c ****   *           + Interrupts and flags management
  13:./Library/stm32f4xx_dma.c ****   *           
  14:./Library/stm32f4xx_dma.c ****   @verbatim      
  15:./Library/stm32f4xx_dma.c ****  ===============================================================================      
  16:./Library/stm32f4xx_dma.c ****                        ##### How to use this driver #####
  17:./Library/stm32f4xx_dma.c ****  ===============================================================================
  18:./Library/stm32f4xx_dma.c ****     [..] 
  19:./Library/stm32f4xx_dma.c ****       (#) Enable The DMA controller clock using RCC_AHB1PeriphResetCmd(RCC_AHB1Periph_DMA1, ENABLE)
  20:./Library/stm32f4xx_dma.c ****           function for DMA1 or using RCC_AHB1PeriphResetCmd(RCC_AHB1Periph_DMA2, ENABLE)
  21:./Library/stm32f4xx_dma.c ****           function for DMA2.
  22:./Library/stm32f4xx_dma.c ****   
  23:./Library/stm32f4xx_dma.c ****       (#) Enable and configure the peripheral to be connected to the DMA Stream
  24:./Library/stm32f4xx_dma.c ****           (except for internal SRAM / FLASH memories: no initialization is 
  25:./Library/stm32f4xx_dma.c ****           necessary). 
  26:./Library/stm32f4xx_dma.c ****           
  27:./Library/stm32f4xx_dma.c ****       (#) For a given Stream, program the required configuration through following parameters:   
  28:./Library/stm32f4xx_dma.c ****           Source and Destination addresses, Transfer Direction, Transfer size, Source and Destinati
  29:./Library/stm32f4xx_dma.c ****           data formats, Circular or Normal mode, Stream Priority level, Source and Destination 
ARM GAS  /tmp/ccwpGFja.s 			page 2


  30:./Library/stm32f4xx_dma.c ****           Incrementation mode, FIFO mode and its Threshold (if needed), Burst 
  31:./Library/stm32f4xx_dma.c ****           mode for Source and/or Destination (if needed) using the DMA_Init() function.
  32:./Library/stm32f4xx_dma.c ****           To avoid filling unnecessary fields, you can call DMA_StructInit() function
  33:./Library/stm32f4xx_dma.c ****           to initialize a given structure with default values (reset values), the modify
  34:./Library/stm32f4xx_dma.c ****           only necessary fields 
  35:./Library/stm32f4xx_dma.c ****           (ie. Source and Destination addresses, Transfer size and Data Formats).
  36:./Library/stm32f4xx_dma.c ****   
  37:./Library/stm32f4xx_dma.c ****       (#) Enable the NVIC and the corresponding interrupt(s) using the function 
  38:./Library/stm32f4xx_dma.c ****           DMA_ITConfig() if you need to use DMA interrupts. 
  39:./Library/stm32f4xx_dma.c ****   
  40:./Library/stm32f4xx_dma.c ****       (#) Optionally, if the Circular mode is enabled, you can use the Double buffer mode by config
  41:./Library/stm32f4xx_dma.c ****           the second Memory address and the first Memory to be used through the function 
  42:./Library/stm32f4xx_dma.c ****           DMA_DoubleBufferModeConfig(). Then enable the Double buffer mode through the function
  43:./Library/stm32f4xx_dma.c ****           DMA_DoubleBufferModeCmd(). These operations must be done before step 6.
  44:./Library/stm32f4xx_dma.c ****       
  45:./Library/stm32f4xx_dma.c ****       (#) Enable the DMA stream using the DMA_Cmd() function. 
  46:./Library/stm32f4xx_dma.c ****                   
  47:./Library/stm32f4xx_dma.c ****       (#) Activate the needed Stream Request using PPP_DMACmd() function for
  48:./Library/stm32f4xx_dma.c ****           any PPP peripheral except internal SRAM and FLASH (ie. SPI, USART ...)
  49:./Library/stm32f4xx_dma.c ****           The function allowing this operation is provided in each PPP peripheral
  50:./Library/stm32f4xx_dma.c ****           driver (ie. SPI_DMACmd for SPI peripheral).
  51:./Library/stm32f4xx_dma.c ****           Once the Stream is enabled, it is not possible to modify its configuration
  52:./Library/stm32f4xx_dma.c ****           unless the stream is stopped and disabled.
  53:./Library/stm32f4xx_dma.c ****           After enabling the Stream, it is advised to monitor the EN bit status using
  54:./Library/stm32f4xx_dma.c ****           the function DMA_GetCmdStatus(). In case of configuration errors or bus errors
  55:./Library/stm32f4xx_dma.c ****           this bit will remain reset and all transfers on this Stream will remain on hold.      
  56:./Library/stm32f4xx_dma.c ****   
  57:./Library/stm32f4xx_dma.c ****       (#) Optionally, you can configure the number of data to be transferred
  58:./Library/stm32f4xx_dma.c ****           when the Stream is disabled (ie. after each Transfer Complete event
  59:./Library/stm32f4xx_dma.c ****           or when a Transfer Error occurs) using the function DMA_SetCurrDataCounter().
  60:./Library/stm32f4xx_dma.c ****           And you can get the number of remaining data to be transferred using 
  61:./Library/stm32f4xx_dma.c ****           the function DMA_GetCurrDataCounter() at run time (when the DMA Stream is
  62:./Library/stm32f4xx_dma.c ****           enabled and running).  
  63:./Library/stm32f4xx_dma.c ****                      
  64:./Library/stm32f4xx_dma.c ****       (#) To control DMA events you can use one of the following two methods:
  65:./Library/stm32f4xx_dma.c ****         (##) Check on DMA Stream flags using the function DMA_GetFlagStatus().  
  66:./Library/stm32f4xx_dma.c ****         (##) Use DMA interrupts through the function DMA_ITConfig() at initialization
  67:./Library/stm32f4xx_dma.c ****              phase and DMA_GetITStatus() function into interrupt routines in
  68:./Library/stm32f4xx_dma.c ****              communication phase.
  69:./Library/stm32f4xx_dma.c ****     [..]     
  70:./Library/stm32f4xx_dma.c ****           After checking on a flag you should clear it using DMA_ClearFlag()
  71:./Library/stm32f4xx_dma.c ****           function. And after checking on an interrupt event you should 
  72:./Library/stm32f4xx_dma.c ****           clear it using DMA_ClearITPendingBit() function.    
  73:./Library/stm32f4xx_dma.c ****                 
  74:./Library/stm32f4xx_dma.c ****       (#) Optionally, if Circular mode and Double Buffer mode are enabled, you can modify
  75:./Library/stm32f4xx_dma.c ****           the Memory Addresses using the function DMA_MemoryTargetConfig(). Make sure that
  76:./Library/stm32f4xx_dma.c ****           the Memory Address to be modified is not the one currently in use by DMA Stream.
  77:./Library/stm32f4xx_dma.c ****           This condition can be monitored using the function DMA_GetCurrentMemoryTarget().
  78:./Library/stm32f4xx_dma.c ****                 
  79:./Library/stm32f4xx_dma.c ****       (#) Optionally, Pause-Resume operations may be performed:
  80:./Library/stm32f4xx_dma.c ****           The DMA_Cmd() function may be used to perform Pause-Resume operation. 
  81:./Library/stm32f4xx_dma.c ****           When a transfer is ongoing, calling this function to disable the 
  82:./Library/stm32f4xx_dma.c ****           Stream will cause the transfer to be paused. All configuration registers 
  83:./Library/stm32f4xx_dma.c ****           and the number of remaining data will be preserved. When calling again 
  84:./Library/stm32f4xx_dma.c ****           this function to re-enable the Stream, the transfer will be resumed from 
  85:./Library/stm32f4xx_dma.c ****           the point where it was paused.          
  86:./Library/stm32f4xx_dma.c ****                    
ARM GAS  /tmp/ccwpGFja.s 			page 3


  87:./Library/stm32f4xx_dma.c ****       -@- Memory-to-Memory transfer is possible by setting the address of the memory into
  88:./Library/stm32f4xx_dma.c ****            the Peripheral registers. In this mode, Circular mode and Double Buffer mode
  89:./Library/stm32f4xx_dma.c ****            are not allowed.
  90:./Library/stm32f4xx_dma.c ****     
  91:./Library/stm32f4xx_dma.c ****       -@- The FIFO is used mainly to reduce bus usage and to allow data 
  92:./Library/stm32f4xx_dma.c ****            packing/unpacking: it is possible to set different Data Sizes for 
  93:./Library/stm32f4xx_dma.c ****            the Peripheral and the Memory (ie. you can set Half-Word data size 
  94:./Library/stm32f4xx_dma.c ****            for the peripheral to access its data register and set Word data size
  95:./Library/stm32f4xx_dma.c ****            for the Memory to gain in access time. Each two Half-words will be 
  96:./Library/stm32f4xx_dma.c ****            packed and written in a single access to a Word in the Memory).
  97:./Library/stm32f4xx_dma.c ****       
  98:./Library/stm32f4xx_dma.c ****       -@- When FIFO is disabled, it is not allowed to configure different 
  99:./Library/stm32f4xx_dma.c ****            Data Sizes for Source and Destination. In this case the Peripheral 
 100:./Library/stm32f4xx_dma.c ****            Data Size will be applied to both Source and Destination.               
 101:./Library/stm32f4xx_dma.c ****   
 102:./Library/stm32f4xx_dma.c ****   @endverbatim
 103:./Library/stm32f4xx_dma.c ****   ******************************************************************************
 104:./Library/stm32f4xx_dma.c ****   * @attention
 105:./Library/stm32f4xx_dma.c ****   *
 106:./Library/stm32f4xx_dma.c ****   * Copyright (c) 2016 STMicroelectronics.
 107:./Library/stm32f4xx_dma.c ****   * All rights reserved.
 108:./Library/stm32f4xx_dma.c ****   *
 109:./Library/stm32f4xx_dma.c ****   * This software is licensed under terms that can be found in the LICENSE file
 110:./Library/stm32f4xx_dma.c ****   * in the root directory of this software component.
 111:./Library/stm32f4xx_dma.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
 112:./Library/stm32f4xx_dma.c ****   *
 113:./Library/stm32f4xx_dma.c ****   ******************************************************************************
 114:./Library/stm32f4xx_dma.c ****   */
 115:./Library/stm32f4xx_dma.c **** 
 116:./Library/stm32f4xx_dma.c **** /* Includes ------------------------------------------------------------------*/
 117:./Library/stm32f4xx_dma.c **** #include "stm32f4xx_dma.h"
 118:./Library/stm32f4xx_dma.c **** #include "stm32f4xx_rcc.h"
 119:./Library/stm32f4xx_dma.c **** 
 120:./Library/stm32f4xx_dma.c **** /** @addtogroup STM32F4xx_StdPeriph_Driver
 121:./Library/stm32f4xx_dma.c ****   * @{
 122:./Library/stm32f4xx_dma.c ****   */
 123:./Library/stm32f4xx_dma.c **** 
 124:./Library/stm32f4xx_dma.c **** /** @defgroup DMA 
 125:./Library/stm32f4xx_dma.c ****   * @brief DMA driver modules
 126:./Library/stm32f4xx_dma.c ****   * @{
 127:./Library/stm32f4xx_dma.c ****   */ 
 128:./Library/stm32f4xx_dma.c **** 
 129:./Library/stm32f4xx_dma.c **** /* Private typedef -----------------------------------------------------------*/
 130:./Library/stm32f4xx_dma.c **** /* Private define ------------------------------------------------------------*/
 131:./Library/stm32f4xx_dma.c **** 
 132:./Library/stm32f4xx_dma.c **** /* Masks Definition */
 133:./Library/stm32f4xx_dma.c **** #define TRANSFER_IT_ENABLE_MASK (uint32_t)(DMA_SxCR_TCIE | DMA_SxCR_HTIE | \
 134:./Library/stm32f4xx_dma.c ****                                            DMA_SxCR_TEIE | DMA_SxCR_DMEIE)
 135:./Library/stm32f4xx_dma.c **** 
 136:./Library/stm32f4xx_dma.c **** #define DMA_Stream0_IT_MASK     (uint32_t)(DMA_LISR_FEIF0 | DMA_LISR_DMEIF0 | \
 137:./Library/stm32f4xx_dma.c ****                                            DMA_LISR_TEIF0 | DMA_LISR_HTIF0 | \
 138:./Library/stm32f4xx_dma.c ****                                            DMA_LISR_TCIF0)
 139:./Library/stm32f4xx_dma.c **** 
 140:./Library/stm32f4xx_dma.c **** #define DMA_Stream1_IT_MASK     (uint32_t)(DMA_Stream0_IT_MASK << 6)
 141:./Library/stm32f4xx_dma.c **** #define DMA_Stream2_IT_MASK     (uint32_t)(DMA_Stream0_IT_MASK << 16)
 142:./Library/stm32f4xx_dma.c **** #define DMA_Stream3_IT_MASK     (uint32_t)(DMA_Stream0_IT_MASK << 22)
 143:./Library/stm32f4xx_dma.c **** #define DMA_Stream4_IT_MASK     (uint32_t)(DMA_Stream0_IT_MASK | (uint32_t)0x20000000)
ARM GAS  /tmp/ccwpGFja.s 			page 4


 144:./Library/stm32f4xx_dma.c **** #define DMA_Stream5_IT_MASK     (uint32_t)(DMA_Stream1_IT_MASK | (uint32_t)0x20000000)
 145:./Library/stm32f4xx_dma.c **** #define DMA_Stream6_IT_MASK     (uint32_t)(DMA_Stream2_IT_MASK | (uint32_t)0x20000000)
 146:./Library/stm32f4xx_dma.c **** #define DMA_Stream7_IT_MASK     (uint32_t)(DMA_Stream3_IT_MASK | (uint32_t)0x20000000)
 147:./Library/stm32f4xx_dma.c **** #define TRANSFER_IT_MASK        (uint32_t)0x0F3C0F3C
 148:./Library/stm32f4xx_dma.c **** #define HIGH_ISR_MASK           (uint32_t)0x20000000
 149:./Library/stm32f4xx_dma.c **** #define RESERVED_MASK           (uint32_t)0x0F7D0F7D  
 150:./Library/stm32f4xx_dma.c **** 
 151:./Library/stm32f4xx_dma.c **** /* Private macro -------------------------------------------------------------*/
 152:./Library/stm32f4xx_dma.c **** /* Private variables ---------------------------------------------------------*/
 153:./Library/stm32f4xx_dma.c **** /* Private function prototypes -----------------------------------------------*/
 154:./Library/stm32f4xx_dma.c **** /* Private functions ---------------------------------------------------------*/
 155:./Library/stm32f4xx_dma.c **** 
 156:./Library/stm32f4xx_dma.c **** 
 157:./Library/stm32f4xx_dma.c **** /** @defgroup DMA_Private_Functions
 158:./Library/stm32f4xx_dma.c ****   * @{
 159:./Library/stm32f4xx_dma.c ****   */
 160:./Library/stm32f4xx_dma.c **** 
 161:./Library/stm32f4xx_dma.c **** /** @defgroup DMA_Group1 Initialization and Configuration functions
 162:./Library/stm32f4xx_dma.c ****  *  @brief   Initialization and Configuration functions
 163:./Library/stm32f4xx_dma.c ****  *
 164:./Library/stm32f4xx_dma.c **** @verbatim   
 165:./Library/stm32f4xx_dma.c ****  ===============================================================================
 166:./Library/stm32f4xx_dma.c ****                 ##### Initialization and Configuration functions #####
 167:./Library/stm32f4xx_dma.c ****  ===============================================================================  
 168:./Library/stm32f4xx_dma.c ****     [..]
 169:./Library/stm32f4xx_dma.c ****     This subsection provides functions allowing to initialize the DMA Stream source
 170:./Library/stm32f4xx_dma.c ****     and destination addresses, incrementation and data sizes, transfer direction, 
 171:./Library/stm32f4xx_dma.c ****     buffer size, circular/normal mode selection, memory-to-memory mode selection 
 172:./Library/stm32f4xx_dma.c ****     and Stream priority value.
 173:./Library/stm32f4xx_dma.c ****     [..]
 174:./Library/stm32f4xx_dma.c ****     The DMA_Init() function follows the DMA configuration procedures as described in
 175:./Library/stm32f4xx_dma.c ****     reference manual (RM0090) except the first point: waiting on EN bit to be reset.
 176:./Library/stm32f4xx_dma.c ****     This condition should be checked by user application using the function DMA_GetCmdStatus()
 177:./Library/stm32f4xx_dma.c ****     before calling the DMA_Init() function.
 178:./Library/stm32f4xx_dma.c **** 
 179:./Library/stm32f4xx_dma.c **** @endverbatim
 180:./Library/stm32f4xx_dma.c ****   * @{
 181:./Library/stm32f4xx_dma.c ****   */
 182:./Library/stm32f4xx_dma.c **** 
 183:./Library/stm32f4xx_dma.c **** /**
 184:./Library/stm32f4xx_dma.c ****   * @brief  Deinitialize the DMAy Streamx registers to their default reset values.
 185:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 186:./Library/stm32f4xx_dma.c ****   *         to 7 to select the DMA Stream.
 187:./Library/stm32f4xx_dma.c ****   * @retval None
 188:./Library/stm32f4xx_dma.c ****   */
 189:./Library/stm32f4xx_dma.c **** void DMA_DeInit(DMA_Stream_TypeDef* DMAy_Streamx)
 190:./Library/stm32f4xx_dma.c **** {
  30              		.loc 1 190 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
 191:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 192:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
  35              		.loc 1 192 3 view .LVU1
 193:./Library/stm32f4xx_dma.c **** 
 194:./Library/stm32f4xx_dma.c ****   /* Disable the selected DMAy Streamx */
ARM GAS  /tmp/ccwpGFja.s 			page 5


 195:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->CR &= ~((uint32_t)DMA_SxCR_EN);
  36              		.loc 1 195 3 view .LVU2
  37              		.loc 1 195 15 is_stmt 0 view .LVU3
  38 0000 0368     		ldr	r3, [r0]
  39              		.loc 1 195 20 view .LVU4
  40 0002 23F00103 		bic	r3, r3, #1
  41 0006 0360     		str	r3, [r0]
 196:./Library/stm32f4xx_dma.c **** 
 197:./Library/stm32f4xx_dma.c ****   /* Reset DMAy Streamx control register */
 198:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->CR  = 0;
  42              		.loc 1 198 3 is_stmt 1 view .LVU5
  43              		.loc 1 198 21 is_stmt 0 view .LVU6
  44 0008 0023     		movs	r3, #0
  45 000a 0360     		str	r3, [r0]
 199:./Library/stm32f4xx_dma.c ****   
 200:./Library/stm32f4xx_dma.c ****   /* Reset DMAy Streamx Number of Data to Transfer register */
 201:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->NDTR = 0;
  46              		.loc 1 201 3 is_stmt 1 view .LVU7
  47              		.loc 1 201 22 is_stmt 0 view .LVU8
  48 000c 4360     		str	r3, [r0, #4]
 202:./Library/stm32f4xx_dma.c ****   
 203:./Library/stm32f4xx_dma.c ****   /* Reset DMAy Streamx peripheral address register */
 204:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->PAR  = 0;
  49              		.loc 1 204 3 is_stmt 1 view .LVU9
  50              		.loc 1 204 22 is_stmt 0 view .LVU10
  51 000e 8360     		str	r3, [r0, #8]
 205:./Library/stm32f4xx_dma.c ****   
 206:./Library/stm32f4xx_dma.c ****   /* Reset DMAy Streamx memory 0 address register */
 207:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->M0AR = 0;
  52              		.loc 1 207 3 is_stmt 1 view .LVU11
  53              		.loc 1 207 22 is_stmt 0 view .LVU12
  54 0010 C360     		str	r3, [r0, #12]
 208:./Library/stm32f4xx_dma.c **** 
 209:./Library/stm32f4xx_dma.c ****   /* Reset DMAy Streamx memory 1 address register */
 210:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->M1AR = 0;
  55              		.loc 1 210 3 is_stmt 1 view .LVU13
  56              		.loc 1 210 22 is_stmt 0 view .LVU14
  57 0012 0361     		str	r3, [r0, #16]
 211:./Library/stm32f4xx_dma.c **** 
 212:./Library/stm32f4xx_dma.c ****   /* Reset DMAy Streamx FIFO control register */
 213:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->FCR = (uint32_t)0x00000021; 
  58              		.loc 1 213 3 is_stmt 1 view .LVU15
  59              		.loc 1 213 21 is_stmt 0 view .LVU16
  60 0014 2123     		movs	r3, #33
  61 0016 4361     		str	r3, [r0, #20]
 214:./Library/stm32f4xx_dma.c **** 
 215:./Library/stm32f4xx_dma.c ****   /* Reset interrupt pending bits for the selected stream */
 216:./Library/stm32f4xx_dma.c ****   if (DMAy_Streamx == DMA1_Stream0)
  62              		.loc 1 216 3 is_stmt 1 view .LVU17
  63              		.loc 1 216 6 is_stmt 0 view .LVU18
  64 0018 3C4B     		ldr	r3, .L34
  65 001a 9842     		cmp	r0, r3
  66 001c 2DD0     		beq	.L18
 217:./Library/stm32f4xx_dma.c ****   {
 218:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA1 Stream0 */
 219:./Library/stm32f4xx_dma.c ****     DMA1->LIFCR = DMA_Stream0_IT_MASK;
 220:./Library/stm32f4xx_dma.c ****   }
ARM GAS  /tmp/ccwpGFja.s 			page 6


 221:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA1_Stream1)
  67              		.loc 1 221 8 is_stmt 1 view .LVU19
  68              		.loc 1 221 11 is_stmt 0 view .LVU20
  69 001e 3C4B     		ldr	r3, .L34+4
  70 0020 9842     		cmp	r0, r3
  71 0022 2ED0     		beq	.L19
 222:./Library/stm32f4xx_dma.c ****   {
 223:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA1 Stream1 */
 224:./Library/stm32f4xx_dma.c ****     DMA1->LIFCR = DMA_Stream1_IT_MASK;
 225:./Library/stm32f4xx_dma.c ****   }
 226:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA1_Stream2)
  72              		.loc 1 226 8 is_stmt 1 view .LVU21
  73              		.loc 1 226 11 is_stmt 0 view .LVU22
  74 0024 3B4B     		ldr	r3, .L34+8
  75 0026 9842     		cmp	r0, r3
  76 0028 30D0     		beq	.L20
 227:./Library/stm32f4xx_dma.c ****   {
 228:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA1 Stream2 */
 229:./Library/stm32f4xx_dma.c ****     DMA1->LIFCR = DMA_Stream2_IT_MASK;
 230:./Library/stm32f4xx_dma.c ****   }
 231:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA1_Stream3)
  77              		.loc 1 231 8 is_stmt 1 view .LVU23
  78              		.loc 1 231 11 is_stmt 0 view .LVU24
  79 002a 3B4B     		ldr	r3, .L34+12
  80 002c 9842     		cmp	r0, r3
  81 002e 32D0     		beq	.L21
 232:./Library/stm32f4xx_dma.c ****   {
 233:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA1 Stream3 */
 234:./Library/stm32f4xx_dma.c ****     DMA1->LIFCR = DMA_Stream3_IT_MASK;
 235:./Library/stm32f4xx_dma.c ****   }
 236:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA1_Stream4)
  82              		.loc 1 236 8 is_stmt 1 view .LVU25
  83              		.loc 1 236 11 is_stmt 0 view .LVU26
  84 0030 3A4B     		ldr	r3, .L34+16
  85 0032 9842     		cmp	r0, r3
  86 0034 34D0     		beq	.L22
 237:./Library/stm32f4xx_dma.c ****   {
 238:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA1 Stream4 */
 239:./Library/stm32f4xx_dma.c ****     DMA1->HIFCR = DMA_Stream4_IT_MASK;
 240:./Library/stm32f4xx_dma.c ****   }
 241:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA1_Stream5)
  87              		.loc 1 241 8 is_stmt 1 view .LVU27
  88              		.loc 1 241 11 is_stmt 0 view .LVU28
  89 0036 3A4B     		ldr	r3, .L34+20
  90 0038 9842     		cmp	r0, r3
  91 003a 35D0     		beq	.L23
 242:./Library/stm32f4xx_dma.c ****   {
 243:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA1 Stream5 */
 244:./Library/stm32f4xx_dma.c ****     DMA1->HIFCR = DMA_Stream5_IT_MASK;
 245:./Library/stm32f4xx_dma.c ****   }
 246:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA1_Stream6)
  92              		.loc 1 246 8 is_stmt 1 view .LVU29
  93              		.loc 1 246 11 is_stmt 0 view .LVU30
  94 003c 394B     		ldr	r3, .L34+24
  95 003e 9842     		cmp	r0, r3
  96 0040 36D0     		beq	.L24
 247:./Library/stm32f4xx_dma.c ****   {
ARM GAS  /tmp/ccwpGFja.s 			page 7


 248:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA1 Stream6 */
 249:./Library/stm32f4xx_dma.c ****     DMA1->HIFCR = (uint32_t)DMA_Stream6_IT_MASK;
 250:./Library/stm32f4xx_dma.c ****   }
 251:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA1_Stream7)
  97              		.loc 1 251 8 is_stmt 1 view .LVU31
  98              		.loc 1 251 11 is_stmt 0 view .LVU32
  99 0042 394B     		ldr	r3, .L34+28
 100 0044 9842     		cmp	r0, r3
 101 0046 37D0     		beq	.L25
 252:./Library/stm32f4xx_dma.c ****   {
 253:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA1 Stream7 */
 254:./Library/stm32f4xx_dma.c ****     DMA1->HIFCR = DMA_Stream7_IT_MASK;
 255:./Library/stm32f4xx_dma.c ****   }
 256:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA2_Stream0)
 102              		.loc 1 256 8 is_stmt 1 view .LVU33
 103              		.loc 1 256 11 is_stmt 0 view .LVU34
 104 0048 384B     		ldr	r3, .L34+32
 105 004a 9842     		cmp	r0, r3
 106 004c 39D0     		beq	.L26
 257:./Library/stm32f4xx_dma.c ****   {
 258:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA2 Stream0 */
 259:./Library/stm32f4xx_dma.c ****     DMA2->LIFCR = DMA_Stream0_IT_MASK;
 260:./Library/stm32f4xx_dma.c ****   }
 261:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA2_Stream1)
 107              		.loc 1 261 8 is_stmt 1 view .LVU35
 108              		.loc 1 261 11 is_stmt 0 view .LVU36
 109 004e 384B     		ldr	r3, .L34+36
 110 0050 9842     		cmp	r0, r3
 111 0052 3AD0     		beq	.L27
 262:./Library/stm32f4xx_dma.c ****   {
 263:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA2 Stream1 */
 264:./Library/stm32f4xx_dma.c ****     DMA2->LIFCR = DMA_Stream1_IT_MASK;
 265:./Library/stm32f4xx_dma.c ****   }
 266:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA2_Stream2)
 112              		.loc 1 266 8 is_stmt 1 view .LVU37
 113              		.loc 1 266 11 is_stmt 0 view .LVU38
 114 0054 374B     		ldr	r3, .L34+40
 115 0056 9842     		cmp	r0, r3
 116 0058 3CD0     		beq	.L28
 267:./Library/stm32f4xx_dma.c ****   {
 268:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA2 Stream2 */
 269:./Library/stm32f4xx_dma.c ****     DMA2->LIFCR = DMA_Stream2_IT_MASK;
 270:./Library/stm32f4xx_dma.c ****   }
 271:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA2_Stream3)
 117              		.loc 1 271 8 is_stmt 1 view .LVU39
 118              		.loc 1 271 11 is_stmt 0 view .LVU40
 119 005a 374B     		ldr	r3, .L34+44
 120 005c 9842     		cmp	r0, r3
 121 005e 3ED0     		beq	.L29
 272:./Library/stm32f4xx_dma.c ****   {
 273:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA2 Stream3 */
 274:./Library/stm32f4xx_dma.c ****     DMA2->LIFCR = DMA_Stream3_IT_MASK;
 275:./Library/stm32f4xx_dma.c ****   }
 276:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA2_Stream4)
 122              		.loc 1 276 8 is_stmt 1 view .LVU41
 123              		.loc 1 276 11 is_stmt 0 view .LVU42
 124 0060 364B     		ldr	r3, .L34+48
ARM GAS  /tmp/ccwpGFja.s 			page 8


 125 0062 9842     		cmp	r0, r3
 126 0064 40D0     		beq	.L30
 277:./Library/stm32f4xx_dma.c ****   {
 278:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA2 Stream4 */
 279:./Library/stm32f4xx_dma.c ****     DMA2->HIFCR = DMA_Stream4_IT_MASK;
 280:./Library/stm32f4xx_dma.c ****   }
 281:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA2_Stream5)
 127              		.loc 1 281 8 is_stmt 1 view .LVU43
 128              		.loc 1 281 11 is_stmt 0 view .LVU44
 129 0066 364B     		ldr	r3, .L34+52
 130 0068 9842     		cmp	r0, r3
 131 006a 41D0     		beq	.L31
 282:./Library/stm32f4xx_dma.c ****   {
 283:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA2 Stream5 */
 284:./Library/stm32f4xx_dma.c ****     DMA2->HIFCR = DMA_Stream5_IT_MASK;
 285:./Library/stm32f4xx_dma.c ****   }
 286:./Library/stm32f4xx_dma.c ****   else if (DMAy_Streamx == DMA2_Stream6)
 132              		.loc 1 286 8 is_stmt 1 view .LVU45
 133              		.loc 1 286 11 is_stmt 0 view .LVU46
 134 006c 354B     		ldr	r3, .L34+56
 135 006e 9842     		cmp	r0, r3
 136 0070 42D0     		beq	.L32
 287:./Library/stm32f4xx_dma.c ****   {
 288:./Library/stm32f4xx_dma.c ****     /* Reset interrupt pending bits for DMA2 Stream6 */
 289:./Library/stm32f4xx_dma.c ****     DMA2->HIFCR = DMA_Stream6_IT_MASK;
 290:./Library/stm32f4xx_dma.c ****   }
 291:./Library/stm32f4xx_dma.c ****   else 
 292:./Library/stm32f4xx_dma.c ****   {
 293:./Library/stm32f4xx_dma.c ****     if (DMAy_Streamx == DMA2_Stream7)
 137              		.loc 1 293 5 is_stmt 1 view .LVU47
 138              		.loc 1 293 8 is_stmt 0 view .LVU48
 139 0072 354B     		ldr	r3, .L34+60
 140 0074 9842     		cmp	r0, r3
 141 0076 43D0     		beq	.L33
 142              	.L1:
 294:./Library/stm32f4xx_dma.c ****     {
 295:./Library/stm32f4xx_dma.c ****       /* Reset interrupt pending bits for DMA2 Stream7 */
 296:./Library/stm32f4xx_dma.c ****       DMA2->HIFCR = DMA_Stream7_IT_MASK;
 297:./Library/stm32f4xx_dma.c ****     }
 298:./Library/stm32f4xx_dma.c ****   }
 299:./Library/stm32f4xx_dma.c **** }
 143              		.loc 1 299 1 view .LVU49
 144 0078 7047     		bx	lr
 145              	.L18:
 219:./Library/stm32f4xx_dma.c ****   }
 146              		.loc 1 219 5 is_stmt 1 view .LVU50
 219:./Library/stm32f4xx_dma.c ****   }
 147              		.loc 1 219 17 is_stmt 0 view .LVU51
 148 007a 103B     		subs	r3, r3, #16
 149 007c 3D22     		movs	r2, #61
 150 007e 9A60     		str	r2, [r3, #8]
 151 0080 7047     		bx	lr
 152              	.L19:
 224:./Library/stm32f4xx_dma.c ****   }
 153              		.loc 1 224 5 is_stmt 1 view .LVU52
 224:./Library/stm32f4xx_dma.c ****   }
 154              		.loc 1 224 17 is_stmt 0 view .LVU53
ARM GAS  /tmp/ccwpGFja.s 			page 9


 155 0082 283B     		subs	r3, r3, #40
 156 0084 4FF47462 		mov	r2, #3904
 157 0088 9A60     		str	r2, [r3, #8]
 158 008a 7047     		bx	lr
 159              	.L20:
 229:./Library/stm32f4xx_dma.c ****   }
 160              		.loc 1 229 5 is_stmt 1 view .LVU54
 229:./Library/stm32f4xx_dma.c ****   }
 161              		.loc 1 229 17 is_stmt 0 view .LVU55
 162 008c 403B     		subs	r3, r3, #64
 163 008e 4FF47412 		mov	r2, #3997696
 164 0092 9A60     		str	r2, [r3, #8]
 165 0094 7047     		bx	lr
 166              	.L21:
 234:./Library/stm32f4xx_dma.c ****   }
 167              		.loc 1 234 5 is_stmt 1 view .LVU56
 234:./Library/stm32f4xx_dma.c ****   }
 168              		.loc 1 234 17 is_stmt 0 view .LVU57
 169 0096 583B     		subs	r3, r3, #88
 170 0098 4FF07462 		mov	r2, #255852544
 171 009c 9A60     		str	r2, [r3, #8]
 172 009e 7047     		bx	lr
 173              	.L22:
 239:./Library/stm32f4xx_dma.c ****   }
 174              		.loc 1 239 5 is_stmt 1 view .LVU58
 239:./Library/stm32f4xx_dma.c ****   }
 175              		.loc 1 239 17 is_stmt 0 view .LVU59
 176 00a0 703B     		subs	r3, r3, #112
 177 00a2 2A4A     		ldr	r2, .L34+64
 178 00a4 DA60     		str	r2, [r3, #12]
 179 00a6 7047     		bx	lr
 180              	.L23:
 244:./Library/stm32f4xx_dma.c ****   }
 181              		.loc 1 244 5 is_stmt 1 view .LVU60
 244:./Library/stm32f4xx_dma.c ****   }
 182              		.loc 1 244 17 is_stmt 0 view .LVU61
 183 00a8 883B     		subs	r3, r3, #136
 184 00aa 294A     		ldr	r2, .L34+68
 185 00ac DA60     		str	r2, [r3, #12]
 186 00ae 7047     		bx	lr
 187              	.L24:
 249:./Library/stm32f4xx_dma.c ****   }
 188              		.loc 1 249 5 is_stmt 1 view .LVU62
 249:./Library/stm32f4xx_dma.c ****   }
 189              		.loc 1 249 17 is_stmt 0 view .LVU63
 190 00b0 A03B     		subs	r3, r3, #160
 191 00b2 284A     		ldr	r2, .L34+72
 192 00b4 DA60     		str	r2, [r3, #12]
 193 00b6 7047     		bx	lr
 194              	.L25:
 254:./Library/stm32f4xx_dma.c ****   }
 195              		.loc 1 254 5 is_stmt 1 view .LVU64
 254:./Library/stm32f4xx_dma.c ****   }
 196              		.loc 1 254 17 is_stmt 0 view .LVU65
 197 00b8 B83B     		subs	r3, r3, #184
 198 00ba 4FF03D52 		mov	r2, #792723456
 199 00be DA60     		str	r2, [r3, #12]
ARM GAS  /tmp/ccwpGFja.s 			page 10


 200 00c0 7047     		bx	lr
 201              	.L26:
 259:./Library/stm32f4xx_dma.c ****   }
 202              		.loc 1 259 5 is_stmt 1 view .LVU66
 259:./Library/stm32f4xx_dma.c ****   }
 203              		.loc 1 259 17 is_stmt 0 view .LVU67
 204 00c2 103B     		subs	r3, r3, #16
 205 00c4 3D22     		movs	r2, #61
 206 00c6 9A60     		str	r2, [r3, #8]
 207 00c8 7047     		bx	lr
 208              	.L27:
 264:./Library/stm32f4xx_dma.c ****   }
 209              		.loc 1 264 5 is_stmt 1 view .LVU68
 264:./Library/stm32f4xx_dma.c ****   }
 210              		.loc 1 264 17 is_stmt 0 view .LVU69
 211 00ca 283B     		subs	r3, r3, #40
 212 00cc 4FF47462 		mov	r2, #3904
 213 00d0 9A60     		str	r2, [r3, #8]
 214 00d2 7047     		bx	lr
 215              	.L28:
 269:./Library/stm32f4xx_dma.c ****   }
 216              		.loc 1 269 5 is_stmt 1 view .LVU70
 269:./Library/stm32f4xx_dma.c ****   }
 217              		.loc 1 269 17 is_stmt 0 view .LVU71
 218 00d4 403B     		subs	r3, r3, #64
 219 00d6 4FF47412 		mov	r2, #3997696
 220 00da 9A60     		str	r2, [r3, #8]
 221 00dc 7047     		bx	lr
 222              	.L29:
 274:./Library/stm32f4xx_dma.c ****   }
 223              		.loc 1 274 5 is_stmt 1 view .LVU72
 274:./Library/stm32f4xx_dma.c ****   }
 224              		.loc 1 274 17 is_stmt 0 view .LVU73
 225 00de 583B     		subs	r3, r3, #88
 226 00e0 4FF07462 		mov	r2, #255852544
 227 00e4 9A60     		str	r2, [r3, #8]
 228 00e6 7047     		bx	lr
 229              	.L30:
 279:./Library/stm32f4xx_dma.c ****   }
 230              		.loc 1 279 5 is_stmt 1 view .LVU74
 279:./Library/stm32f4xx_dma.c ****   }
 231              		.loc 1 279 17 is_stmt 0 view .LVU75
 232 00e8 703B     		subs	r3, r3, #112
 233 00ea 184A     		ldr	r2, .L34+64
 234 00ec DA60     		str	r2, [r3, #12]
 235 00ee 7047     		bx	lr
 236              	.L31:
 284:./Library/stm32f4xx_dma.c ****   }
 237              		.loc 1 284 5 is_stmt 1 view .LVU76
 284:./Library/stm32f4xx_dma.c ****   }
 238              		.loc 1 284 17 is_stmt 0 view .LVU77
 239 00f0 883B     		subs	r3, r3, #136
 240 00f2 174A     		ldr	r2, .L34+68
 241 00f4 DA60     		str	r2, [r3, #12]
 242 00f6 7047     		bx	lr
 243              	.L32:
 289:./Library/stm32f4xx_dma.c ****   }
ARM GAS  /tmp/ccwpGFja.s 			page 11


 244              		.loc 1 289 5 is_stmt 1 view .LVU78
 289:./Library/stm32f4xx_dma.c ****   }
 245              		.loc 1 289 17 is_stmt 0 view .LVU79
 246 00f8 A03B     		subs	r3, r3, #160
 247 00fa 164A     		ldr	r2, .L34+72
 248 00fc DA60     		str	r2, [r3, #12]
 249 00fe 7047     		bx	lr
 250              	.L33:
 296:./Library/stm32f4xx_dma.c ****     }
 251              		.loc 1 296 7 is_stmt 1 view .LVU80
 296:./Library/stm32f4xx_dma.c ****     }
 252              		.loc 1 296 19 is_stmt 0 view .LVU81
 253 0100 B83B     		subs	r3, r3, #184
 254 0102 4FF03D52 		mov	r2, #792723456
 255 0106 DA60     		str	r2, [r3, #12]
 256              		.loc 1 299 1 view .LVU82
 257 0108 B6E7     		b	.L1
 258              	.L35:
 259 010a 00BF     		.align	2
 260              	.L34:
 261 010c 10600240 		.word	1073897488
 262 0110 28600240 		.word	1073897512
 263 0114 40600240 		.word	1073897536
 264 0118 58600240 		.word	1073897560
 265 011c 70600240 		.word	1073897584
 266 0120 88600240 		.word	1073897608
 267 0124 A0600240 		.word	1073897632
 268 0128 B8600240 		.word	1073897656
 269 012c 10640240 		.word	1073898512
 270 0130 28640240 		.word	1073898536
 271 0134 40640240 		.word	1073898560
 272 0138 58640240 		.word	1073898584
 273 013c 70640240 		.word	1073898608
 274 0140 88640240 		.word	1073898632
 275 0144 A0640240 		.word	1073898656
 276 0148 B8640240 		.word	1073898680
 277 014c 3D000020 		.word	536870973
 278 0150 400F0020 		.word	536874816
 279 0154 00003D20 		.word	540868608
 280              		.cfi_endproc
 281              	.LFE123:
 283              		.section	.text.DMA_Init,"ax",%progbits
 284              		.align	1
 285              		.global	DMA_Init
 286              		.syntax unified
 287              		.thumb
 288              		.thumb_func
 290              	DMA_Init:
 291              	.LVL1:
 292              	.LFB124:
 300:./Library/stm32f4xx_dma.c **** 
 301:./Library/stm32f4xx_dma.c **** /**
 302:./Library/stm32f4xx_dma.c ****   * @brief  Initializes the DMAy Streamx according to the specified parameters in 
 303:./Library/stm32f4xx_dma.c ****   *         the DMA_InitStruct structure.
 304:./Library/stm32f4xx_dma.c ****   * @note   Before calling this function, it is recommended to check that the Stream 
 305:./Library/stm32f4xx_dma.c ****   *         is actually disabled using the function DMA_GetCmdStatus().  
 306:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
ARM GAS  /tmp/ccwpGFja.s 			page 12


 307:./Library/stm32f4xx_dma.c ****   *         to 7 to select the DMA Stream.
 308:./Library/stm32f4xx_dma.c ****   * @param  DMA_InitStruct: pointer to a DMA_InitTypeDef structure that contains
 309:./Library/stm32f4xx_dma.c ****   *         the configuration information for the specified DMA Stream.  
 310:./Library/stm32f4xx_dma.c ****   * @retval None
 311:./Library/stm32f4xx_dma.c ****   */
 312:./Library/stm32f4xx_dma.c **** void DMA_Init(DMA_Stream_TypeDef* DMAy_Streamx, DMA_InitTypeDef* DMA_InitStruct)
 313:./Library/stm32f4xx_dma.c **** {
 293              		.loc 1 313 1 is_stmt 1 view -0
 294              		.cfi_startproc
 295              		@ args = 0, pretend = 0, frame = 0
 296              		@ frame_needed = 0, uses_anonymous_args = 0
 297              		@ link register save eliminated.
 298              		.loc 1 313 1 is_stmt 0 view .LVU84
 299 0000 10B4     		push	{r4}
 300              	.LCFI0:
 301              		.cfi_def_cfa_offset 4
 302              		.cfi_offset 4, -4
 314:./Library/stm32f4xx_dma.c ****   uint32_t tmpreg = 0;
 303              		.loc 1 314 3 is_stmt 1 view .LVU85
 304              	.LVL2:
 315:./Library/stm32f4xx_dma.c **** 
 316:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 317:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 305              		.loc 1 317 3 view .LVU86
 318:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_CHANNEL(DMA_InitStruct->DMA_Channel));
 306              		.loc 1 318 3 view .LVU87
 319:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_DIRECTION(DMA_InitStruct->DMA_DIR));
 307              		.loc 1 319 3 view .LVU88
 320:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_BUFFER_SIZE(DMA_InitStruct->DMA_BufferSize));
 308              		.loc 1 320 3 view .LVU89
 321:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_PERIPHERAL_INC_STATE(DMA_InitStruct->DMA_PeripheralInc));
 309              		.loc 1 321 3 view .LVU90
 322:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_MEMORY_INC_STATE(DMA_InitStruct->DMA_MemoryInc));
 310              		.loc 1 322 3 view .LVU91
 323:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_PERIPHERAL_DATA_SIZE(DMA_InitStruct->DMA_PeripheralDataSize));
 311              		.loc 1 323 3 view .LVU92
 324:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_MEMORY_DATA_SIZE(DMA_InitStruct->DMA_MemoryDataSize));
 312              		.loc 1 324 3 view .LVU93
 325:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_MODE(DMA_InitStruct->DMA_Mode));
 313              		.loc 1 325 3 view .LVU94
 326:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_PRIORITY(DMA_InitStruct->DMA_Priority));
 314              		.loc 1 326 3 view .LVU95
 327:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_FIFO_MODE_STATE(DMA_InitStruct->DMA_FIFOMode));
 315              		.loc 1 327 3 view .LVU96
 328:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_FIFO_THRESHOLD(DMA_InitStruct->DMA_FIFOThreshold));
 316              		.loc 1 328 3 view .LVU97
 329:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_MEMORY_BURST(DMA_InitStruct->DMA_MemoryBurst));
 317              		.loc 1 329 3 view .LVU98
 330:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_PERIPHERAL_BURST(DMA_InitStruct->DMA_PeripheralBurst));
 318              		.loc 1 330 3 view .LVU99
 331:./Library/stm32f4xx_dma.c **** 
 332:./Library/stm32f4xx_dma.c ****   /*------------------------- DMAy Streamx CR Configuration ------------------*/
 333:./Library/stm32f4xx_dma.c ****   /* Get the DMAy_Streamx CR value */
 334:./Library/stm32f4xx_dma.c ****   tmpreg = DMAy_Streamx->CR;
 319              		.loc 1 334 3 view .LVU100
 320              		.loc 1 334 10 is_stmt 0 view .LVU101
 321 0002 0368     		ldr	r3, [r0]
ARM GAS  /tmp/ccwpGFja.s 			page 13


 322              	.LVL3:
 335:./Library/stm32f4xx_dma.c **** 
 336:./Library/stm32f4xx_dma.c ****   /* Clear CHSEL, MBURST, PBURST, PL, MSIZE, PSIZE, MINC, PINC, CIRC and DIR bits */
 337:./Library/stm32f4xx_dma.c ****   tmpreg &= ((uint32_t)~(DMA_SxCR_CHSEL | DMA_SxCR_MBURST | DMA_SxCR_PBURST | \
 323              		.loc 1 337 3 is_stmt 1 view .LVU102
 324              		.loc 1 337 10 is_stmt 0 view .LVU103
 325 0004 134A     		ldr	r2, .L38
 326 0006 1A40     		ands	r2, r2, r3
 327              	.LVL4:
 338:./Library/stm32f4xx_dma.c ****                          DMA_SxCR_PL | DMA_SxCR_MSIZE | DMA_SxCR_PSIZE | \
 339:./Library/stm32f4xx_dma.c ****                          DMA_SxCR_MINC | DMA_SxCR_PINC | DMA_SxCR_CIRC | \
 340:./Library/stm32f4xx_dma.c ****                          DMA_SxCR_DIR));
 341:./Library/stm32f4xx_dma.c **** 
 342:./Library/stm32f4xx_dma.c ****   /* Configure DMAy Streamx: */
 343:./Library/stm32f4xx_dma.c ****   /* Set CHSEL bits according to DMA_CHSEL value */
 344:./Library/stm32f4xx_dma.c ****   /* Set DIR bits according to DMA_DIR value */
 345:./Library/stm32f4xx_dma.c ****   /* Set PINC bit according to DMA_PeripheralInc value */
 346:./Library/stm32f4xx_dma.c ****   /* Set MINC bit according to DMA_MemoryInc value */
 347:./Library/stm32f4xx_dma.c ****   /* Set PSIZE bits according to DMA_PeripheralDataSize value */
 348:./Library/stm32f4xx_dma.c ****   /* Set MSIZE bits according to DMA_MemoryDataSize value */
 349:./Library/stm32f4xx_dma.c ****   /* Set CIRC bit according to DMA_Mode value */
 350:./Library/stm32f4xx_dma.c ****   /* Set PL bits according to DMA_Priority value */
 351:./Library/stm32f4xx_dma.c ****   /* Set MBURST bits according to DMA_MemoryBurst value */
 352:./Library/stm32f4xx_dma.c ****   /* Set PBURST bits according to DMA_PeripheralBurst value */
 353:./Library/stm32f4xx_dma.c ****   tmpreg |= DMA_InitStruct->DMA_Channel | DMA_InitStruct->DMA_DIR |
 328              		.loc 1 353 3 is_stmt 1 view .LVU104
 329              		.loc 1 353 27 is_stmt 0 view .LVU105
 330 0008 0B68     		ldr	r3, [r1]
 331              		.loc 1 353 41 view .LVU106
 332 000a CC68     		ldr	r4, [r1, #12]
 333 000c 2343     		orrs	r3, r3, r4
 334              		.loc 1 353 67 view .LVU107
 335 000e 4C69     		ldr	r4, [r1, #20]
 336 0010 2343     		orrs	r3, r3, r4
 354:./Library/stm32f4xx_dma.c ****             DMA_InitStruct->DMA_PeripheralInc | DMA_InitStruct->DMA_MemoryInc |
 337              		.loc 1 354 47 view .LVU108
 338 0012 8C69     		ldr	r4, [r1, #24]
 339 0014 2343     		orrs	r3, r3, r4
 340              		.loc 1 354 79 view .LVU109
 341 0016 CC69     		ldr	r4, [r1, #28]
 342 0018 2343     		orrs	r3, r3, r4
 355:./Library/stm32f4xx_dma.c ****             DMA_InitStruct->DMA_PeripheralDataSize | DMA_InitStruct->DMA_MemoryDataSize |
 343              		.loc 1 355 52 view .LVU110
 344 001a 0C6A     		ldr	r4, [r1, #32]
 345 001c 2343     		orrs	r3, r3, r4
 346              		.loc 1 355 89 view .LVU111
 347 001e 4C6A     		ldr	r4, [r1, #36]
 348 0020 2343     		orrs	r3, r3, r4
 356:./Library/stm32f4xx_dma.c ****             DMA_InitStruct->DMA_Mode | DMA_InitStruct->DMA_Priority |
 349              		.loc 1 356 38 view .LVU112
 350 0022 8C6A     		ldr	r4, [r1, #40]
 351 0024 2343     		orrs	r3, r3, r4
 352              		.loc 1 356 69 view .LVU113
 353 0026 4C6B     		ldr	r4, [r1, #52]
 354 0028 2343     		orrs	r3, r3, r4
 357:./Library/stm32f4xx_dma.c ****             DMA_InitStruct->DMA_MemoryBurst | DMA_InitStruct->DMA_PeripheralBurst;
 355              		.loc 1 357 45 view .LVU114
ARM GAS  /tmp/ccwpGFja.s 			page 14


 356 002a 8C6B     		ldr	r4, [r1, #56]
 357 002c 2343     		orrs	r3, r3, r4
 353:./Library/stm32f4xx_dma.c ****             DMA_InitStruct->DMA_PeripheralInc | DMA_InitStruct->DMA_MemoryInc |
 358              		.loc 1 353 10 view .LVU115
 359 002e 1343     		orrs	r3, r3, r2
 360              	.LVL5:
 358:./Library/stm32f4xx_dma.c **** 
 359:./Library/stm32f4xx_dma.c ****   /* Write to DMAy Streamx CR register */
 360:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->CR = tmpreg;
 361              		.loc 1 360 3 is_stmt 1 view .LVU116
 362              		.loc 1 360 20 is_stmt 0 view .LVU117
 363 0030 0360     		str	r3, [r0]
 361:./Library/stm32f4xx_dma.c **** 
 362:./Library/stm32f4xx_dma.c ****   /*------------------------- DMAy Streamx FCR Configuration -----------------*/
 363:./Library/stm32f4xx_dma.c ****   /* Get the DMAy_Streamx FCR value */
 364:./Library/stm32f4xx_dma.c ****   tmpreg = DMAy_Streamx->FCR;
 364              		.loc 1 364 3 is_stmt 1 view .LVU118
 365              		.loc 1 364 10 is_stmt 0 view .LVU119
 366 0032 4269     		ldr	r2, [r0, #20]
 367              	.LVL6:
 365:./Library/stm32f4xx_dma.c **** 
 366:./Library/stm32f4xx_dma.c ****   /* Clear DMDIS and FTH bits */
 367:./Library/stm32f4xx_dma.c ****   tmpreg &= (uint32_t)~(DMA_SxFCR_DMDIS | DMA_SxFCR_FTH);
 368              		.loc 1 367 3 is_stmt 1 view .LVU120
 369              		.loc 1 367 10 is_stmt 0 view .LVU121
 370 0034 22F00702 		bic	r2, r2, #7
 371              	.LVL7:
 368:./Library/stm32f4xx_dma.c **** 
 369:./Library/stm32f4xx_dma.c ****   /* Configure DMAy Streamx FIFO: 
 370:./Library/stm32f4xx_dma.c ****     Set DMDIS bits according to DMA_FIFOMode value 
 371:./Library/stm32f4xx_dma.c ****     Set FTH bits according to DMA_FIFOThreshold value */
 372:./Library/stm32f4xx_dma.c ****   tmpreg |= DMA_InitStruct->DMA_FIFOMode | DMA_InitStruct->DMA_FIFOThreshold;
 372              		.loc 1 372 3 is_stmt 1 view .LVU122
 373              		.loc 1 372 27 is_stmt 0 view .LVU123
 374 0038 CB6A     		ldr	r3, [r1, #44]
 375              		.loc 1 372 42 view .LVU124
 376 003a 0C6B     		ldr	r4, [r1, #48]
 377 003c 2343     		orrs	r3, r3, r4
 378              		.loc 1 372 10 view .LVU125
 379 003e 1343     		orrs	r3, r3, r2
 380              	.LVL8:
 373:./Library/stm32f4xx_dma.c **** 
 374:./Library/stm32f4xx_dma.c ****   /* Write to DMAy Streamx CR */
 375:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->FCR = tmpreg;
 381              		.loc 1 375 3 is_stmt 1 view .LVU126
 382              		.loc 1 375 21 is_stmt 0 view .LVU127
 383 0040 4361     		str	r3, [r0, #20]
 376:./Library/stm32f4xx_dma.c **** 
 377:./Library/stm32f4xx_dma.c ****   /*------------------------- DMAy Streamx NDTR Configuration ----------------*/
 378:./Library/stm32f4xx_dma.c ****   /* Write to DMAy Streamx NDTR register */
 379:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->NDTR = DMA_InitStruct->DMA_BufferSize;
 384              		.loc 1 379 3 is_stmt 1 view .LVU128
 385              		.loc 1 379 38 is_stmt 0 view .LVU129
 386 0042 0B69     		ldr	r3, [r1, #16]
 387              	.LVL9:
 388              		.loc 1 379 22 view .LVU130
 389 0044 4360     		str	r3, [r0, #4]
ARM GAS  /tmp/ccwpGFja.s 			page 15


 390              	.LVL10:
 380:./Library/stm32f4xx_dma.c **** 
 381:./Library/stm32f4xx_dma.c ****   /*------------------------- DMAy Streamx PAR Configuration -----------------*/
 382:./Library/stm32f4xx_dma.c ****   /* Write to DMAy Streamx PAR */
 383:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->PAR = DMA_InitStruct->DMA_PeripheralBaseAddr;
 391              		.loc 1 383 3 is_stmt 1 view .LVU131
 392              		.loc 1 383 37 is_stmt 0 view .LVU132
 393 0046 4B68     		ldr	r3, [r1, #4]
 394              		.loc 1 383 21 view .LVU133
 395 0048 8360     		str	r3, [r0, #8]
 384:./Library/stm32f4xx_dma.c **** 
 385:./Library/stm32f4xx_dma.c ****   /*------------------------- DMAy Streamx M0AR Configuration ----------------*/
 386:./Library/stm32f4xx_dma.c ****   /* Write to DMAy Streamx M0AR */
 387:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->M0AR = DMA_InitStruct->DMA_Memory0BaseAddr;
 396              		.loc 1 387 3 is_stmt 1 view .LVU134
 397              		.loc 1 387 38 is_stmt 0 view .LVU135
 398 004a 8B68     		ldr	r3, [r1, #8]
 399              		.loc 1 387 22 view .LVU136
 400 004c C360     		str	r3, [r0, #12]
 388:./Library/stm32f4xx_dma.c **** }
 401              		.loc 1 388 1 view .LVU137
 402 004e 5DF8044B 		ldr	r4, [sp], #4
 403              	.LCFI1:
 404              		.cfi_restore 4
 405              		.cfi_def_cfa_offset 0
 406 0052 7047     		bx	lr
 407              	.L39:
 408              		.align	2
 409              	.L38:
 410 0054 3F801CF0 		.word	-266567617
 411              		.cfi_endproc
 412              	.LFE124:
 414              		.section	.text.DMA_StructInit,"ax",%progbits
 415              		.align	1
 416              		.global	DMA_StructInit
 417              		.syntax unified
 418              		.thumb
 419              		.thumb_func
 421              	DMA_StructInit:
 422              	.LVL11:
 423              	.LFB125:
 389:./Library/stm32f4xx_dma.c **** 
 390:./Library/stm32f4xx_dma.c **** /**
 391:./Library/stm32f4xx_dma.c ****   * @brief  Fills each DMA_InitStruct member with its default value.
 392:./Library/stm32f4xx_dma.c ****   * @param  DMA_InitStruct : pointer to a DMA_InitTypeDef structure which will 
 393:./Library/stm32f4xx_dma.c ****   *         be initialized.
 394:./Library/stm32f4xx_dma.c ****   * @retval None
 395:./Library/stm32f4xx_dma.c ****   */
 396:./Library/stm32f4xx_dma.c **** void DMA_StructInit(DMA_InitTypeDef* DMA_InitStruct)
 397:./Library/stm32f4xx_dma.c **** {
 424              		.loc 1 397 1 is_stmt 1 view -0
 425              		.cfi_startproc
 426              		@ args = 0, pretend = 0, frame = 0
 427              		@ frame_needed = 0, uses_anonymous_args = 0
 428              		@ link register save eliminated.
 398:./Library/stm32f4xx_dma.c ****   /*-------------- Reset DMA init structure parameters values ----------------*/
 399:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_Channel member */
ARM GAS  /tmp/ccwpGFja.s 			page 16


 400:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_Channel = 0;
 429              		.loc 1 400 3 view .LVU139
 430              		.loc 1 400 31 is_stmt 0 view .LVU140
 431 0000 0023     		movs	r3, #0
 432 0002 0360     		str	r3, [r0]
 401:./Library/stm32f4xx_dma.c **** 
 402:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_PeripheralBaseAddr member */
 403:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_PeripheralBaseAddr = 0;
 433              		.loc 1 403 3 is_stmt 1 view .LVU141
 434              		.loc 1 403 42 is_stmt 0 view .LVU142
 435 0004 4360     		str	r3, [r0, #4]
 404:./Library/stm32f4xx_dma.c **** 
 405:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_Memory0BaseAddr member */
 406:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_Memory0BaseAddr = 0;
 436              		.loc 1 406 3 is_stmt 1 view .LVU143
 437              		.loc 1 406 39 is_stmt 0 view .LVU144
 438 0006 8360     		str	r3, [r0, #8]
 407:./Library/stm32f4xx_dma.c **** 
 408:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_DIR member */
 409:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_DIR = DMA_DIR_PeripheralToMemory;
 439              		.loc 1 409 3 is_stmt 1 view .LVU145
 440              		.loc 1 409 27 is_stmt 0 view .LVU146
 441 0008 C360     		str	r3, [r0, #12]
 410:./Library/stm32f4xx_dma.c **** 
 411:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_BufferSize member */
 412:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_BufferSize = 0;
 442              		.loc 1 412 3 is_stmt 1 view .LVU147
 443              		.loc 1 412 34 is_stmt 0 view .LVU148
 444 000a 0361     		str	r3, [r0, #16]
 413:./Library/stm32f4xx_dma.c **** 
 414:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_PeripheralInc member */
 415:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_PeripheralInc = DMA_PeripheralInc_Disable;
 445              		.loc 1 415 3 is_stmt 1 view .LVU149
 446              		.loc 1 415 37 is_stmt 0 view .LVU150
 447 000c 4361     		str	r3, [r0, #20]
 416:./Library/stm32f4xx_dma.c **** 
 417:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_MemoryInc member */
 418:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_MemoryInc = DMA_MemoryInc_Disable;
 448              		.loc 1 418 3 is_stmt 1 view .LVU151
 449              		.loc 1 418 33 is_stmt 0 view .LVU152
 450 000e 8361     		str	r3, [r0, #24]
 419:./Library/stm32f4xx_dma.c **** 
 420:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_PeripheralDataSize member */
 421:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte;
 451              		.loc 1 421 3 is_stmt 1 view .LVU153
 452              		.loc 1 421 42 is_stmt 0 view .LVU154
 453 0010 C361     		str	r3, [r0, #28]
 422:./Library/stm32f4xx_dma.c **** 
 423:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_MemoryDataSize member */
 424:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;
 454              		.loc 1 424 3 is_stmt 1 view .LVU155
 455              		.loc 1 424 38 is_stmt 0 view .LVU156
 456 0012 0362     		str	r3, [r0, #32]
 425:./Library/stm32f4xx_dma.c **** 
 426:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_Mode member */
 427:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_Mode = DMA_Mode_Normal;
 457              		.loc 1 427 3 is_stmt 1 view .LVU157
ARM GAS  /tmp/ccwpGFja.s 			page 17


 458              		.loc 1 427 28 is_stmt 0 view .LVU158
 459 0014 4362     		str	r3, [r0, #36]
 428:./Library/stm32f4xx_dma.c **** 
 429:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_Priority member */
 430:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_Priority = DMA_Priority_Low;
 460              		.loc 1 430 3 is_stmt 1 view .LVU159
 461              		.loc 1 430 32 is_stmt 0 view .LVU160
 462 0016 8362     		str	r3, [r0, #40]
 431:./Library/stm32f4xx_dma.c **** 
 432:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_FIFOMode member */
 433:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_FIFOMode = DMA_FIFOMode_Disable;
 463              		.loc 1 433 3 is_stmt 1 view .LVU161
 464              		.loc 1 433 32 is_stmt 0 view .LVU162
 465 0018 C362     		str	r3, [r0, #44]
 434:./Library/stm32f4xx_dma.c **** 
 435:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_FIFOThreshold member */
 436:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_FIFOThreshold = DMA_FIFOThreshold_1QuarterFull;
 466              		.loc 1 436 3 is_stmt 1 view .LVU163
 467              		.loc 1 436 37 is_stmt 0 view .LVU164
 468 001a 0363     		str	r3, [r0, #48]
 437:./Library/stm32f4xx_dma.c **** 
 438:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_MemoryBurst member */
 439:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_MemoryBurst = DMA_MemoryBurst_Single;
 469              		.loc 1 439 3 is_stmt 1 view .LVU165
 470              		.loc 1 439 35 is_stmt 0 view .LVU166
 471 001c 4363     		str	r3, [r0, #52]
 440:./Library/stm32f4xx_dma.c **** 
 441:./Library/stm32f4xx_dma.c ****   /* Initialize the DMA_PeripheralBurst member */
 442:./Library/stm32f4xx_dma.c ****   DMA_InitStruct->DMA_PeripheralBurst = DMA_PeripheralBurst_Single;
 472              		.loc 1 442 3 is_stmt 1 view .LVU167
 473              		.loc 1 442 39 is_stmt 0 view .LVU168
 474 001e 8363     		str	r3, [r0, #56]
 443:./Library/stm32f4xx_dma.c **** }
 475              		.loc 1 443 1 view .LVU169
 476 0020 7047     		bx	lr
 477              		.cfi_endproc
 478              	.LFE125:
 480              		.section	.text.DMA_Cmd,"ax",%progbits
 481              		.align	1
 482              		.global	DMA_Cmd
 483              		.syntax unified
 484              		.thumb
 485              		.thumb_func
 487              	DMA_Cmd:
 488              	.LVL12:
 489              	.LFB126:
 444:./Library/stm32f4xx_dma.c **** 
 445:./Library/stm32f4xx_dma.c **** /**
 446:./Library/stm32f4xx_dma.c ****   * @brief  Enables or disables the specified DMAy Streamx.
 447:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 448:./Library/stm32f4xx_dma.c ****   *         to 7 to select the DMA Stream.
 449:./Library/stm32f4xx_dma.c ****   * @param  NewState: new state of the DMAy Streamx. 
 450:./Library/stm32f4xx_dma.c ****   *          This parameter can be: ENABLE or DISABLE.
 451:./Library/stm32f4xx_dma.c ****   *
 452:./Library/stm32f4xx_dma.c ****   * @note  This function may be used to perform Pause-Resume operation. When a
 453:./Library/stm32f4xx_dma.c ****   *        transfer is ongoing, calling this function to disable the Stream will
 454:./Library/stm32f4xx_dma.c ****   *        cause the transfer to be paused. All configuration registers and the
ARM GAS  /tmp/ccwpGFja.s 			page 18


 455:./Library/stm32f4xx_dma.c ****   *        number of remaining data will be preserved. When calling again this
 456:./Library/stm32f4xx_dma.c ****   *        function to re-enable the Stream, the transfer will be resumed from
 457:./Library/stm32f4xx_dma.c ****   *        the point where it was paused.          
 458:./Library/stm32f4xx_dma.c ****   *    
 459:./Library/stm32f4xx_dma.c ****   * @note  After configuring the DMA Stream (DMA_Init() function) and enabling the
 460:./Library/stm32f4xx_dma.c ****   *        stream, it is recommended to check (or wait until) the DMA Stream is
 461:./Library/stm32f4xx_dma.c ****   *        effectively enabled. A Stream may remain disabled if a configuration 
 462:./Library/stm32f4xx_dma.c ****   *        parameter is wrong.
 463:./Library/stm32f4xx_dma.c ****   *        After disabling a DMA Stream, it is also recommended to check (or wait
 464:./Library/stm32f4xx_dma.c ****   *        until) the DMA Stream is effectively disabled. If a Stream is disabled 
 465:./Library/stm32f4xx_dma.c ****   *        while a data transfer is ongoing, the current data will be transferred
 466:./Library/stm32f4xx_dma.c ****   *        and the Stream will be effectively disabled only after the transfer of
 467:./Library/stm32f4xx_dma.c ****   *        this single data is finished.            
 468:./Library/stm32f4xx_dma.c ****   *    
 469:./Library/stm32f4xx_dma.c ****   * @retval None
 470:./Library/stm32f4xx_dma.c ****   */
 471:./Library/stm32f4xx_dma.c **** void DMA_Cmd(DMA_Stream_TypeDef* DMAy_Streamx, FunctionalState NewState)
 472:./Library/stm32f4xx_dma.c **** {
 490              		.loc 1 472 1 is_stmt 1 view -0
 491              		.cfi_startproc
 492              		@ args = 0, pretend = 0, frame = 0
 493              		@ frame_needed = 0, uses_anonymous_args = 0
 494              		@ link register save eliminated.
 473:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 474:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 495              		.loc 1 474 3 view .LVU171
 475:./Library/stm32f4xx_dma.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 496              		.loc 1 475 3 view .LVU172
 476:./Library/stm32f4xx_dma.c **** 
 477:./Library/stm32f4xx_dma.c ****   if (NewState != DISABLE)
 497              		.loc 1 477 3 view .LVU173
 498              		.loc 1 477 6 is_stmt 0 view .LVU174
 499 0000 21B1     		cbz	r1, .L42
 478:./Library/stm32f4xx_dma.c ****   {
 479:./Library/stm32f4xx_dma.c ****     /* Enable the selected DMAy Streamx by setting EN bit */
 480:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR |= (uint32_t)DMA_SxCR_EN;
 500              		.loc 1 480 5 is_stmt 1 view .LVU175
 501              		.loc 1 480 17 is_stmt 0 view .LVU176
 502 0002 0368     		ldr	r3, [r0]
 503              		.loc 1 480 22 view .LVU177
 504 0004 43F00103 		orr	r3, r3, #1
 505 0008 0360     		str	r3, [r0]
 506 000a 7047     		bx	lr
 507              	.L42:
 481:./Library/stm32f4xx_dma.c ****   }
 482:./Library/stm32f4xx_dma.c ****   else
 483:./Library/stm32f4xx_dma.c ****   {
 484:./Library/stm32f4xx_dma.c ****     /* Disable the selected DMAy Streamx by clearing EN bit */
 485:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR &= ~(uint32_t)DMA_SxCR_EN;
 508              		.loc 1 485 5 is_stmt 1 view .LVU178
 509              		.loc 1 485 17 is_stmt 0 view .LVU179
 510 000c 0368     		ldr	r3, [r0]
 511              		.loc 1 485 22 view .LVU180
 512 000e 23F00103 		bic	r3, r3, #1
 513 0012 0360     		str	r3, [r0]
 486:./Library/stm32f4xx_dma.c ****   }
 487:./Library/stm32f4xx_dma.c **** }
ARM GAS  /tmp/ccwpGFja.s 			page 19


 514              		.loc 1 487 1 view .LVU181
 515 0014 7047     		bx	lr
 516              		.cfi_endproc
 517              	.LFE126:
 519              		.section	.text.DMA_PeriphIncOffsetSizeConfig,"ax",%progbits
 520              		.align	1
 521              		.global	DMA_PeriphIncOffsetSizeConfig
 522              		.syntax unified
 523              		.thumb
 524              		.thumb_func
 526              	DMA_PeriphIncOffsetSizeConfig:
 527              	.LVL13:
 528              	.LFB127:
 488:./Library/stm32f4xx_dma.c **** 
 489:./Library/stm32f4xx_dma.c **** /**
 490:./Library/stm32f4xx_dma.c ****   * @brief  Configures, when the PINC (Peripheral Increment address mode) bit is
 491:./Library/stm32f4xx_dma.c ****   *         set, if the peripheral address should be incremented with the data 
 492:./Library/stm32f4xx_dma.c ****   *         size (configured with PSIZE bits) or by a fixed offset equal to 4
 493:./Library/stm32f4xx_dma.c ****   *         (32-bit aligned addresses).
 494:./Library/stm32f4xx_dma.c ****   *   
 495:./Library/stm32f4xx_dma.c ****   * @note   This function has no effect if the Peripheral Increment mode is disabled.
 496:./Library/stm32f4xx_dma.c ****   *     
 497:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 498:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 499:./Library/stm32f4xx_dma.c ****   * @param  DMA_Pincos: specifies the Peripheral increment offset size.
 500:./Library/stm32f4xx_dma.c ****   *          This parameter can be one of the following values:
 501:./Library/stm32f4xx_dma.c ****   *            @arg DMA_PINCOS_Psize: Peripheral address increment is done  
 502:./Library/stm32f4xx_dma.c ****   *                                   accordingly to PSIZE parameter.
 503:./Library/stm32f4xx_dma.c ****   *            @arg DMA_PINCOS_WordAligned: Peripheral address increment offset is 
 504:./Library/stm32f4xx_dma.c ****   *                                         fixed to 4 (32-bit aligned addresses). 
 505:./Library/stm32f4xx_dma.c ****   * @retval None
 506:./Library/stm32f4xx_dma.c ****   */
 507:./Library/stm32f4xx_dma.c **** void DMA_PeriphIncOffsetSizeConfig(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_Pincos)
 508:./Library/stm32f4xx_dma.c **** {
 529              		.loc 1 508 1 is_stmt 1 view -0
 530              		.cfi_startproc
 531              		@ args = 0, pretend = 0, frame = 0
 532              		@ frame_needed = 0, uses_anonymous_args = 0
 533              		@ link register save eliminated.
 509:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 510:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 534              		.loc 1 510 3 view .LVU183
 511:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_PINCOS_SIZE(DMA_Pincos));
 535              		.loc 1 511 3 view .LVU184
 512:./Library/stm32f4xx_dma.c **** 
 513:./Library/stm32f4xx_dma.c ****   /* Check the needed Peripheral increment offset */
 514:./Library/stm32f4xx_dma.c ****   if(DMA_Pincos != DMA_PINCOS_Psize)
 536              		.loc 1 514 3 view .LVU185
 537              		.loc 1 514 5 is_stmt 0 view .LVU186
 538 0000 21B1     		cbz	r1, .L45
 515:./Library/stm32f4xx_dma.c ****   {
 516:./Library/stm32f4xx_dma.c ****     /* Configure DMA_SxCR_PINCOS bit with the input parameter */
 517:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR |= (uint32_t)DMA_SxCR_PINCOS;     
 539              		.loc 1 517 5 is_stmt 1 view .LVU187
 540              		.loc 1 517 17 is_stmt 0 view .LVU188
 541 0002 0368     		ldr	r3, [r0]
 542              		.loc 1 517 22 view .LVU189
ARM GAS  /tmp/ccwpGFja.s 			page 20


 543 0004 43F40043 		orr	r3, r3, #32768
 544 0008 0360     		str	r3, [r0]
 545 000a 7047     		bx	lr
 546              	.L45:
 518:./Library/stm32f4xx_dma.c ****   }
 519:./Library/stm32f4xx_dma.c ****   else
 520:./Library/stm32f4xx_dma.c ****   {
 521:./Library/stm32f4xx_dma.c ****     /* Clear the PINCOS bit: Peripheral address incremented according to PSIZE */
 522:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR &= ~(uint32_t)DMA_SxCR_PINCOS;    
 547              		.loc 1 522 5 is_stmt 1 view .LVU190
 548              		.loc 1 522 17 is_stmt 0 view .LVU191
 549 000c 0368     		ldr	r3, [r0]
 550              		.loc 1 522 22 view .LVU192
 551 000e 23F40043 		bic	r3, r3, #32768
 552 0012 0360     		str	r3, [r0]
 523:./Library/stm32f4xx_dma.c ****   }
 524:./Library/stm32f4xx_dma.c **** }
 553              		.loc 1 524 1 view .LVU193
 554 0014 7047     		bx	lr
 555              		.cfi_endproc
 556              	.LFE127:
 558              		.section	.text.DMA_FlowControllerConfig,"ax",%progbits
 559              		.align	1
 560              		.global	DMA_FlowControllerConfig
 561              		.syntax unified
 562              		.thumb
 563              		.thumb_func
 565              	DMA_FlowControllerConfig:
 566              	.LVL14:
 567              	.LFB128:
 525:./Library/stm32f4xx_dma.c **** 
 526:./Library/stm32f4xx_dma.c **** /**
 527:./Library/stm32f4xx_dma.c ****   * @brief  Configures, when the DMAy Streamx is disabled, the flow controller for
 528:./Library/stm32f4xx_dma.c ****   *         the next transactions (Peripheral or Memory).
 529:./Library/stm32f4xx_dma.c ****   *       
 530:./Library/stm32f4xx_dma.c ****   * @note   Before enabling this feature, check if the used peripheral supports 
 531:./Library/stm32f4xx_dma.c ****   *         the Flow Controller mode or not.    
 532:./Library/stm32f4xx_dma.c ****   *  
 533:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 534:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 535:./Library/stm32f4xx_dma.c ****   * @param  DMA_FlowCtrl: specifies the DMA flow controller.
 536:./Library/stm32f4xx_dma.c ****   *          This parameter can be one of the following values:
 537:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FlowCtrl_Memory: DMAy_Streamx transactions flow controller is 
 538:./Library/stm32f4xx_dma.c ****   *                                      the DMA controller.
 539:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FlowCtrl_Peripheral: DMAy_Streamx transactions flow controller 
 540:./Library/stm32f4xx_dma.c ****   *                                          is the peripheral.    
 541:./Library/stm32f4xx_dma.c ****   * @retval None
 542:./Library/stm32f4xx_dma.c ****   */
 543:./Library/stm32f4xx_dma.c **** void DMA_FlowControllerConfig(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_FlowCtrl)
 544:./Library/stm32f4xx_dma.c **** {
 568              		.loc 1 544 1 is_stmt 1 view -0
 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 0
 571              		@ frame_needed = 0, uses_anonymous_args = 0
 572              		@ link register save eliminated.
 545:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 546:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
ARM GAS  /tmp/ccwpGFja.s 			page 21


 573              		.loc 1 546 3 view .LVU195
 547:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_FLOW_CTRL(DMA_FlowCtrl));
 574              		.loc 1 547 3 view .LVU196
 548:./Library/stm32f4xx_dma.c **** 
 549:./Library/stm32f4xx_dma.c ****   /* Check the needed flow controller  */
 550:./Library/stm32f4xx_dma.c ****   if(DMA_FlowCtrl != DMA_FlowCtrl_Memory)
 575              		.loc 1 550 3 view .LVU197
 576              		.loc 1 550 5 is_stmt 0 view .LVU198
 577 0000 21B1     		cbz	r1, .L48
 551:./Library/stm32f4xx_dma.c ****   {
 552:./Library/stm32f4xx_dma.c ****     /* Configure DMA_SxCR_PFCTRL bit with the input parameter */
 553:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR |= (uint32_t)DMA_SxCR_PFCTRL;   
 578              		.loc 1 553 5 is_stmt 1 view .LVU199
 579              		.loc 1 553 17 is_stmt 0 view .LVU200
 580 0002 0368     		ldr	r3, [r0]
 581              		.loc 1 553 22 view .LVU201
 582 0004 43F02003 		orr	r3, r3, #32
 583 0008 0360     		str	r3, [r0]
 584 000a 7047     		bx	lr
 585              	.L48:
 554:./Library/stm32f4xx_dma.c ****   }
 555:./Library/stm32f4xx_dma.c ****   else
 556:./Library/stm32f4xx_dma.c ****   {
 557:./Library/stm32f4xx_dma.c ****     /* Clear the PFCTRL bit: Memory is the flow controller */
 558:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR &= ~(uint32_t)DMA_SxCR_PFCTRL;    
 586              		.loc 1 558 5 is_stmt 1 view .LVU202
 587              		.loc 1 558 17 is_stmt 0 view .LVU203
 588 000c 0368     		ldr	r3, [r0]
 589              		.loc 1 558 22 view .LVU204
 590 000e 23F02003 		bic	r3, r3, #32
 591 0012 0360     		str	r3, [r0]
 559:./Library/stm32f4xx_dma.c ****   }
 560:./Library/stm32f4xx_dma.c **** }
 592              		.loc 1 560 1 view .LVU205
 593 0014 7047     		bx	lr
 594              		.cfi_endproc
 595              	.LFE128:
 597              		.section	.text.DMA_SetCurrDataCounter,"ax",%progbits
 598              		.align	1
 599              		.global	DMA_SetCurrDataCounter
 600              		.syntax unified
 601              		.thumb
 602              		.thumb_func
 604              	DMA_SetCurrDataCounter:
 605              	.LVL15:
 606              	.LFB129:
 561:./Library/stm32f4xx_dma.c **** /**
 562:./Library/stm32f4xx_dma.c ****   * @}
 563:./Library/stm32f4xx_dma.c ****   */
 564:./Library/stm32f4xx_dma.c **** 
 565:./Library/stm32f4xx_dma.c **** /** @defgroup DMA_Group2 Data Counter functions
 566:./Library/stm32f4xx_dma.c ****  *  @brief   Data Counter functions 
 567:./Library/stm32f4xx_dma.c ****  *
 568:./Library/stm32f4xx_dma.c **** @verbatim   
 569:./Library/stm32f4xx_dma.c ****  ===============================================================================
 570:./Library/stm32f4xx_dma.c ****                       ##### Data Counter functions #####
 571:./Library/stm32f4xx_dma.c ****  ===============================================================================  
ARM GAS  /tmp/ccwpGFja.s 			page 22


 572:./Library/stm32f4xx_dma.c ****     [..]
 573:./Library/stm32f4xx_dma.c ****     This subsection provides function allowing to configure and read the buffer size
 574:./Library/stm32f4xx_dma.c ****     (number of data to be transferred). 
 575:./Library/stm32f4xx_dma.c ****     [..]
 576:./Library/stm32f4xx_dma.c ****     The DMA data counter can be written only when the DMA Stream is disabled 
 577:./Library/stm32f4xx_dma.c ****     (ie. after transfer complete event).
 578:./Library/stm32f4xx_dma.c ****     [..]
 579:./Library/stm32f4xx_dma.c ****     The following function can be used to write the Stream data counter value:
 580:./Library/stm32f4xx_dma.c ****       (+) void DMA_SetCurrDataCounter(DMA_Stream_TypeDef* DMAy_Streamx, uint16_t Counter);
 581:./Library/stm32f4xx_dma.c ****       -@- It is advised to use this function rather than DMA_Init() in situations 
 582:./Library/stm32f4xx_dma.c ****           where only the Data buffer needs to be reloaded.
 583:./Library/stm32f4xx_dma.c ****       -@- If the Source and Destination Data Sizes are different, then the value 
 584:./Library/stm32f4xx_dma.c ****           written in data counter, expressing the number of transfers, is relative 
 585:./Library/stm32f4xx_dma.c ****           to the number of transfers from the Peripheral point of view.
 586:./Library/stm32f4xx_dma.c ****           ie. If Memory data size is Word, Peripheral data size is Half-Words, 
 587:./Library/stm32f4xx_dma.c ****           then the value to be configured in the data counter is the number 
 588:./Library/stm32f4xx_dma.c ****           of Half-Words to be transferred from/to the peripheral.
 589:./Library/stm32f4xx_dma.c ****     [..]
 590:./Library/stm32f4xx_dma.c ****     The DMA data counter can be read to indicate the number of remaining transfers for
 591:./Library/stm32f4xx_dma.c ****     the relative DMA Stream. This counter is decremented at the end of each data 
 592:./Library/stm32f4xx_dma.c ****     transfer and when the transfer is complete: 
 593:./Library/stm32f4xx_dma.c ****       (+) If Normal mode is selected: the counter is set to 0.
 594:./Library/stm32f4xx_dma.c ****       (+) If Circular mode is selected: the counter is reloaded with the initial value
 595:./Library/stm32f4xx_dma.c ****           (configured before enabling the DMA Stream)
 596:./Library/stm32f4xx_dma.c ****      [..]
 597:./Library/stm32f4xx_dma.c ****      The following function can be used to read the Stream data counter value:
 598:./Library/stm32f4xx_dma.c ****        (+) uint16_t DMA_GetCurrDataCounter(DMA_Stream_TypeDef* DMAy_Streamx);
 599:./Library/stm32f4xx_dma.c **** 
 600:./Library/stm32f4xx_dma.c **** @endverbatim
 601:./Library/stm32f4xx_dma.c ****   * @{
 602:./Library/stm32f4xx_dma.c ****   */
 603:./Library/stm32f4xx_dma.c **** 
 604:./Library/stm32f4xx_dma.c **** /**
 605:./Library/stm32f4xx_dma.c ****   * @brief  Writes the number of data units to be transferred on the DMAy Streamx.
 606:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 607:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 608:./Library/stm32f4xx_dma.c ****   * @param  Counter: Number of data units to be transferred (from 0 to 65535) 
 609:./Library/stm32f4xx_dma.c ****   *          Number of data items depends only on the Peripheral data format.
 610:./Library/stm32f4xx_dma.c ****   *            
 611:./Library/stm32f4xx_dma.c ****   * @note   If Peripheral data format is Bytes: number of data units is equal 
 612:./Library/stm32f4xx_dma.c ****   *         to total number of bytes to be transferred.
 613:./Library/stm32f4xx_dma.c ****   *           
 614:./Library/stm32f4xx_dma.c ****   * @note   If Peripheral data format is Half-Word: number of data units is  
 615:./Library/stm32f4xx_dma.c ****   *         equal to total number of bytes to be transferred / 2.
 616:./Library/stm32f4xx_dma.c ****   *           
 617:./Library/stm32f4xx_dma.c ****   * @note   If Peripheral data format is Word: number of data units is equal 
 618:./Library/stm32f4xx_dma.c ****   *         to total  number of bytes to be transferred / 4.
 619:./Library/stm32f4xx_dma.c ****   *      
 620:./Library/stm32f4xx_dma.c ****   * @note   In Memory-to-Memory transfer mode, the memory buffer pointed by 
 621:./Library/stm32f4xx_dma.c ****   *         DMAy_SxPAR register is considered as Peripheral.
 622:./Library/stm32f4xx_dma.c ****   *      
 623:./Library/stm32f4xx_dma.c ****   * @retval The number of remaining data units in the current DMAy Streamx transfer.
 624:./Library/stm32f4xx_dma.c ****   */
 625:./Library/stm32f4xx_dma.c **** void DMA_SetCurrDataCounter(DMA_Stream_TypeDef* DMAy_Streamx, uint16_t Counter)
 626:./Library/stm32f4xx_dma.c **** {
 607              		.loc 1 626 1 is_stmt 1 view -0
 608              		.cfi_startproc
ARM GAS  /tmp/ccwpGFja.s 			page 23


 609              		@ args = 0, pretend = 0, frame = 0
 610              		@ frame_needed = 0, uses_anonymous_args = 0
 611              		@ link register save eliminated.
 627:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 628:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 612              		.loc 1 628 3 view .LVU207
 629:./Library/stm32f4xx_dma.c **** 
 630:./Library/stm32f4xx_dma.c ****   /* Write the number of data units to be transferred */
 631:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->NDTR = (uint16_t)Counter;
 613              		.loc 1 631 3 view .LVU208
 614              		.loc 1 631 22 is_stmt 0 view .LVU209
 615 0000 4160     		str	r1, [r0, #4]
 632:./Library/stm32f4xx_dma.c **** }
 616              		.loc 1 632 1 view .LVU210
 617 0002 7047     		bx	lr
 618              		.cfi_endproc
 619              	.LFE129:
 621              		.section	.text.DMA_GetCurrDataCounter,"ax",%progbits
 622              		.align	1
 623              		.global	DMA_GetCurrDataCounter
 624              		.syntax unified
 625              		.thumb
 626              		.thumb_func
 628              	DMA_GetCurrDataCounter:
 629              	.LVL16:
 630              	.LFB130:
 633:./Library/stm32f4xx_dma.c **** 
 634:./Library/stm32f4xx_dma.c **** /**
 635:./Library/stm32f4xx_dma.c ****   * @brief  Returns the number of remaining data units in the current DMAy Streamx transfer.
 636:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 637:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 638:./Library/stm32f4xx_dma.c ****   * @retval The number of remaining data units in the current DMAy Streamx transfer.
 639:./Library/stm32f4xx_dma.c ****   */
 640:./Library/stm32f4xx_dma.c **** uint16_t DMA_GetCurrDataCounter(DMA_Stream_TypeDef* DMAy_Streamx)
 641:./Library/stm32f4xx_dma.c **** {
 631              		.loc 1 641 1 is_stmt 1 view -0
 632              		.cfi_startproc
 633              		@ args = 0, pretend = 0, frame = 0
 634              		@ frame_needed = 0, uses_anonymous_args = 0
 635              		@ link register save eliminated.
 642:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 643:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 636              		.loc 1 643 3 view .LVU212
 644:./Library/stm32f4xx_dma.c **** 
 645:./Library/stm32f4xx_dma.c ****   /* Return the number of remaining data units for DMAy Streamx */
 646:./Library/stm32f4xx_dma.c ****   return ((uint16_t)(DMAy_Streamx->NDTR));
 637              		.loc 1 646 3 view .LVU213
 638              		.loc 1 646 34 is_stmt 0 view .LVU214
 639 0000 4068     		ldr	r0, [r0, #4]
 640              	.LVL17:
 647:./Library/stm32f4xx_dma.c **** }
 641              		.loc 1 647 1 view .LVU215
 642 0002 80B2     		uxth	r0, r0
 643 0004 7047     		bx	lr
 644              		.cfi_endproc
 645              	.LFE130:
 647              		.section	.text.DMA_DoubleBufferModeConfig,"ax",%progbits
ARM GAS  /tmp/ccwpGFja.s 			page 24


 648              		.align	1
 649              		.global	DMA_DoubleBufferModeConfig
 650              		.syntax unified
 651              		.thumb
 652              		.thumb_func
 654              	DMA_DoubleBufferModeConfig:
 655              	.LVL18:
 656              	.LFB131:
 648:./Library/stm32f4xx_dma.c **** /**
 649:./Library/stm32f4xx_dma.c ****   * @}
 650:./Library/stm32f4xx_dma.c ****   */
 651:./Library/stm32f4xx_dma.c **** 
 652:./Library/stm32f4xx_dma.c **** /** @defgroup DMA_Group3 Double Buffer mode functions
 653:./Library/stm32f4xx_dma.c ****  *  @brief   Double Buffer mode functions 
 654:./Library/stm32f4xx_dma.c ****  *
 655:./Library/stm32f4xx_dma.c **** @verbatim   
 656:./Library/stm32f4xx_dma.c ****  ===============================================================================
 657:./Library/stm32f4xx_dma.c ****                     ##### Double Buffer mode functions #####
 658:./Library/stm32f4xx_dma.c ****  ===============================================================================  
 659:./Library/stm32f4xx_dma.c ****     [..]
 660:./Library/stm32f4xx_dma.c ****     This subsection provides function allowing to configure and control the double 
 661:./Library/stm32f4xx_dma.c ****     buffer mode parameters.
 662:./Library/stm32f4xx_dma.c ****     
 663:./Library/stm32f4xx_dma.c ****     [..]
 664:./Library/stm32f4xx_dma.c ****     The Double Buffer mode can be used only when Circular mode is enabled.
 665:./Library/stm32f4xx_dma.c ****     The Double Buffer mode cannot be used when transferring data from Memory to Memory.
 666:./Library/stm32f4xx_dma.c ****     
 667:./Library/stm32f4xx_dma.c ****     [..]
 668:./Library/stm32f4xx_dma.c ****     The Double Buffer mode allows to set two different Memory addresses from/to which
 669:./Library/stm32f4xx_dma.c ****     the DMA controller will access alternatively (after completing transfer to/from 
 670:./Library/stm32f4xx_dma.c ****     target memory 0, it will start transfer to/from target memory 1).
 671:./Library/stm32f4xx_dma.c ****     This allows to reduce software overhead for double buffering and reduce the CPU
 672:./Library/stm32f4xx_dma.c ****     access time.
 673:./Library/stm32f4xx_dma.c ****     
 674:./Library/stm32f4xx_dma.c ****     [..]
 675:./Library/stm32f4xx_dma.c ****     Two functions must be called before calling the DMA_Init() function:
 676:./Library/stm32f4xx_dma.c ****       (+) void DMA_DoubleBufferModeConfig(DMA_Stream_TypeDef* DMAy_Streamx, 
 677:./Library/stm32f4xx_dma.c ****           uint32_t Memory1BaseAddr, uint32_t DMA_CurrentMemory);
 678:./Library/stm32f4xx_dma.c ****       (+) void DMA_DoubleBufferModeCmd(DMA_Stream_TypeDef* DMAy_Streamx, FunctionalState NewState);
 679:./Library/stm32f4xx_dma.c ****       
 680:./Library/stm32f4xx_dma.c ****     [..]
 681:./Library/stm32f4xx_dma.c ****     DMA_DoubleBufferModeConfig() is called to configure the Memory 1 base address 
 682:./Library/stm32f4xx_dma.c ****     and the first Memory target from/to which the transfer will start after 
 683:./Library/stm32f4xx_dma.c ****     enabling the DMA Stream. Then DMA_DoubleBufferModeCmd() must be called 
 684:./Library/stm32f4xx_dma.c ****     to enable the Double Buffer mode (or disable it when it should not be used).
 685:./Library/stm32f4xx_dma.c ****   
 686:./Library/stm32f4xx_dma.c ****     [..]
 687:./Library/stm32f4xx_dma.c ****     Two functions can be called dynamically when the transfer is ongoing (or when the DMA Stream is
 688:./Library/stm32f4xx_dma.c ****     stopped) to modify on of the target Memories addresses or to check which Memory target is curre
 689:./Library/stm32f4xx_dma.c ****     used:
 690:./Library/stm32f4xx_dma.c ****       (+) void DMA_MemoryTargetConfig(DMA_Stream_TypeDef* DMAy_Streamx, 
 691:./Library/stm32f4xx_dma.c ****                 uint32_t MemoryBaseAddr, uint32_t DMA_MemoryTarget);
 692:./Library/stm32f4xx_dma.c ****       (+) uint32_t DMA_GetCurrentMemoryTarget(DMA_Stream_TypeDef* DMAy_Streamx);
 693:./Library/stm32f4xx_dma.c ****       
 694:./Library/stm32f4xx_dma.c ****     [..]
 695:./Library/stm32f4xx_dma.c ****     DMA_MemoryTargetConfig() can be called to modify the base address of one of 
 696:./Library/stm32f4xx_dma.c ****     the two target Memories.
ARM GAS  /tmp/ccwpGFja.s 			page 25


 697:./Library/stm32f4xx_dma.c ****     The Memory of which the base address will be modified must not be currently 
 698:./Library/stm32f4xx_dma.c ****     be used by the DMA Stream (ie. if the DMA Stream is currently transferring 
 699:./Library/stm32f4xx_dma.c ****     from Memory 1 then you can only modify base address of target Memory 0 and vice versa).
 700:./Library/stm32f4xx_dma.c ****     To check this condition, it is recommended to use the function DMA_GetCurrentMemoryTarget() whi
 701:./Library/stm32f4xx_dma.c ****     returns the index of the Memory target currently in use by the DMA Stream.
 702:./Library/stm32f4xx_dma.c **** 
 703:./Library/stm32f4xx_dma.c **** @endverbatim
 704:./Library/stm32f4xx_dma.c ****   * @{
 705:./Library/stm32f4xx_dma.c ****   */
 706:./Library/stm32f4xx_dma.c ****   
 707:./Library/stm32f4xx_dma.c **** /**
 708:./Library/stm32f4xx_dma.c ****   * @brief  Configures, when the DMAy Streamx is disabled, the double buffer mode 
 709:./Library/stm32f4xx_dma.c ****   *         and the current memory target.
 710:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 711:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 712:./Library/stm32f4xx_dma.c ****   * @param  Memory1BaseAddr: the base address of the second buffer (Memory 1)  
 713:./Library/stm32f4xx_dma.c ****   * @param  DMA_CurrentMemory: specifies which memory will be first buffer for
 714:./Library/stm32f4xx_dma.c ****   *         the transactions when the Stream will be enabled. 
 715:./Library/stm32f4xx_dma.c ****   *          This parameter can be one of the following values:
 716:./Library/stm32f4xx_dma.c ****   *            @arg DMA_Memory_0: Memory 0 is the current buffer.
 717:./Library/stm32f4xx_dma.c ****   *            @arg DMA_Memory_1: Memory 1 is the current buffer.  
 718:./Library/stm32f4xx_dma.c ****   *       
 719:./Library/stm32f4xx_dma.c ****   * @note   Memory0BaseAddr is set by the DMA structure configuration in DMA_Init().
 720:./Library/stm32f4xx_dma.c ****   *   
 721:./Library/stm32f4xx_dma.c ****   * @retval None
 722:./Library/stm32f4xx_dma.c ****   */
 723:./Library/stm32f4xx_dma.c **** void DMA_DoubleBufferModeConfig(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t Memory1BaseAddr,
 724:./Library/stm32f4xx_dma.c ****                                 uint32_t DMA_CurrentMemory)
 725:./Library/stm32f4xx_dma.c **** {  
 657              		.loc 1 725 1 is_stmt 1 view -0
 658              		.cfi_startproc
 659              		@ args = 0, pretend = 0, frame = 0
 660              		@ frame_needed = 0, uses_anonymous_args = 0
 661              		@ link register save eliminated.
 726:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 727:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 662              		.loc 1 727 3 view .LVU217
 728:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_CURRENT_MEM(DMA_CurrentMemory));
 663              		.loc 1 728 3 view .LVU218
 729:./Library/stm32f4xx_dma.c **** 
 730:./Library/stm32f4xx_dma.c ****   if (DMA_CurrentMemory != DMA_Memory_0)
 664              		.loc 1 730 3 view .LVU219
 665              		.loc 1 730 6 is_stmt 0 view .LVU220
 666 0000 2AB1     		cbz	r2, .L53
 731:./Library/stm32f4xx_dma.c ****   {
 732:./Library/stm32f4xx_dma.c ****     /* Set Memory 1 as current memory address */
 733:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR |= (uint32_t)(DMA_SxCR_CT);    
 667              		.loc 1 733 5 is_stmt 1 view .LVU221
 668              		.loc 1 733 17 is_stmt 0 view .LVU222
 669 0002 0368     		ldr	r3, [r0]
 670              		.loc 1 733 22 view .LVU223
 671 0004 43F40023 		orr	r3, r3, #524288
 672 0008 0360     		str	r3, [r0]
 673              	.L54:
 734:./Library/stm32f4xx_dma.c ****   }
 735:./Library/stm32f4xx_dma.c ****   else
 736:./Library/stm32f4xx_dma.c ****   {
ARM GAS  /tmp/ccwpGFja.s 			page 26


 737:./Library/stm32f4xx_dma.c ****     /* Set Memory 0 as current memory address */
 738:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR &= ~(uint32_t)(DMA_SxCR_CT);    
 739:./Library/stm32f4xx_dma.c ****   }
 740:./Library/stm32f4xx_dma.c **** 
 741:./Library/stm32f4xx_dma.c ****   /* Write to DMAy Streamx M1AR */
 742:./Library/stm32f4xx_dma.c ****   DMAy_Streamx->M1AR = Memory1BaseAddr;
 674              		.loc 1 742 3 is_stmt 1 view .LVU224
 675              		.loc 1 742 22 is_stmt 0 view .LVU225
 676 000a 0161     		str	r1, [r0, #16]
 743:./Library/stm32f4xx_dma.c **** }
 677              		.loc 1 743 1 view .LVU226
 678 000c 7047     		bx	lr
 679              	.L53:
 738:./Library/stm32f4xx_dma.c ****   }
 680              		.loc 1 738 5 is_stmt 1 view .LVU227
 738:./Library/stm32f4xx_dma.c ****   }
 681              		.loc 1 738 17 is_stmt 0 view .LVU228
 682 000e 0368     		ldr	r3, [r0]
 738:./Library/stm32f4xx_dma.c ****   }
 683              		.loc 1 738 22 view .LVU229
 684 0010 23F40023 		bic	r3, r3, #524288
 685 0014 0360     		str	r3, [r0]
 686 0016 F8E7     		b	.L54
 687              		.cfi_endproc
 688              	.LFE131:
 690              		.section	.text.DMA_DoubleBufferModeCmd,"ax",%progbits
 691              		.align	1
 692              		.global	DMA_DoubleBufferModeCmd
 693              		.syntax unified
 694              		.thumb
 695              		.thumb_func
 697              	DMA_DoubleBufferModeCmd:
 698              	.LVL19:
 699              	.LFB132:
 744:./Library/stm32f4xx_dma.c **** 
 745:./Library/stm32f4xx_dma.c **** /**
 746:./Library/stm32f4xx_dma.c ****   * @brief  Enables or disables the double buffer mode for the selected DMA stream.
 747:./Library/stm32f4xx_dma.c ****   * @note   This function can be called only when the DMA Stream is disabled.  
 748:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 749:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 750:./Library/stm32f4xx_dma.c ****   * @param  NewState: new state of the DMAy Streamx double buffer mode. 
 751:./Library/stm32f4xx_dma.c ****   *          This parameter can be: ENABLE or DISABLE.
 752:./Library/stm32f4xx_dma.c ****   * @retval None
 753:./Library/stm32f4xx_dma.c ****   */
 754:./Library/stm32f4xx_dma.c **** void DMA_DoubleBufferModeCmd(DMA_Stream_TypeDef* DMAy_Streamx, FunctionalState NewState)
 755:./Library/stm32f4xx_dma.c **** {  
 700              		.loc 1 755 1 is_stmt 1 view -0
 701              		.cfi_startproc
 702              		@ args = 0, pretend = 0, frame = 0
 703              		@ frame_needed = 0, uses_anonymous_args = 0
 704              		@ link register save eliminated.
 756:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 757:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 705              		.loc 1 757 3 view .LVU231
 758:./Library/stm32f4xx_dma.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 706              		.loc 1 758 3 view .LVU232
 759:./Library/stm32f4xx_dma.c **** 
ARM GAS  /tmp/ccwpGFja.s 			page 27


 760:./Library/stm32f4xx_dma.c ****   /* Configure the Double Buffer mode */
 761:./Library/stm32f4xx_dma.c ****   if (NewState != DISABLE)
 707              		.loc 1 761 3 view .LVU233
 708              		.loc 1 761 6 is_stmt 0 view .LVU234
 709 0000 21B1     		cbz	r1, .L56
 762:./Library/stm32f4xx_dma.c ****   {
 763:./Library/stm32f4xx_dma.c ****     /* Enable the Double buffer mode */
 764:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR |= (uint32_t)DMA_SxCR_DBM;
 710              		.loc 1 764 5 is_stmt 1 view .LVU235
 711              		.loc 1 764 17 is_stmt 0 view .LVU236
 712 0002 0368     		ldr	r3, [r0]
 713              		.loc 1 764 22 view .LVU237
 714 0004 43F48023 		orr	r3, r3, #262144
 715 0008 0360     		str	r3, [r0]
 716 000a 7047     		bx	lr
 717              	.L56:
 765:./Library/stm32f4xx_dma.c ****   }
 766:./Library/stm32f4xx_dma.c ****   else
 767:./Library/stm32f4xx_dma.c ****   {
 768:./Library/stm32f4xx_dma.c ****     /* Disable the Double buffer mode */
 769:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->CR &= ~(uint32_t)DMA_SxCR_DBM;
 718              		.loc 1 769 5 is_stmt 1 view .LVU238
 719              		.loc 1 769 17 is_stmt 0 view .LVU239
 720 000c 0368     		ldr	r3, [r0]
 721              		.loc 1 769 22 view .LVU240
 722 000e 23F48023 		bic	r3, r3, #262144
 723 0012 0360     		str	r3, [r0]
 770:./Library/stm32f4xx_dma.c ****   }
 771:./Library/stm32f4xx_dma.c **** }
 724              		.loc 1 771 1 view .LVU241
 725 0014 7047     		bx	lr
 726              		.cfi_endproc
 727              	.LFE132:
 729              		.section	.text.DMA_MemoryTargetConfig,"ax",%progbits
 730              		.align	1
 731              		.global	DMA_MemoryTargetConfig
 732              		.syntax unified
 733              		.thumb
 734              		.thumb_func
 736              	DMA_MemoryTargetConfig:
 737              	.LVL20:
 738              	.LFB133:
 772:./Library/stm32f4xx_dma.c **** 
 773:./Library/stm32f4xx_dma.c **** /**
 774:./Library/stm32f4xx_dma.c ****   * @brief  Configures the Memory address for the next buffer transfer in double
 775:./Library/stm32f4xx_dma.c ****   *         buffer mode (for dynamic use). This function can be called when the
 776:./Library/stm32f4xx_dma.c ****   *         DMA Stream is enabled and when the transfer is ongoing.  
 777:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 778:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 779:./Library/stm32f4xx_dma.c ****   * @param  MemoryBaseAddr: The base address of the target memory buffer
 780:./Library/stm32f4xx_dma.c ****   * @param  DMA_MemoryTarget: Next memory target to be used. 
 781:./Library/stm32f4xx_dma.c ****   *         This parameter can be one of the following values:
 782:./Library/stm32f4xx_dma.c ****   *            @arg DMA_Memory_0: To use the memory address 0
 783:./Library/stm32f4xx_dma.c ****   *            @arg DMA_Memory_1: To use the memory address 1
 784:./Library/stm32f4xx_dma.c ****   * 
 785:./Library/stm32f4xx_dma.c ****   * @note    It is not allowed to modify the Base Address of a target Memory when
 786:./Library/stm32f4xx_dma.c ****   *          this target is involved in the current transfer. ie. If the DMA Stream
ARM GAS  /tmp/ccwpGFja.s 			page 28


 787:./Library/stm32f4xx_dma.c ****   *          is currently transferring to/from Memory 1, then it not possible to
 788:./Library/stm32f4xx_dma.c ****   *          modify Base address of Memory 1, but it is possible to modify Base
 789:./Library/stm32f4xx_dma.c ****   *          address of Memory 0.
 790:./Library/stm32f4xx_dma.c ****   *          To know which Memory is currently used, you can use the function
 791:./Library/stm32f4xx_dma.c ****   *          DMA_GetCurrentMemoryTarget().             
 792:./Library/stm32f4xx_dma.c ****   *  
 793:./Library/stm32f4xx_dma.c ****   * @retval None
 794:./Library/stm32f4xx_dma.c ****   */
 795:./Library/stm32f4xx_dma.c **** void DMA_MemoryTargetConfig(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t MemoryBaseAddr,
 796:./Library/stm32f4xx_dma.c ****                            uint32_t DMA_MemoryTarget)
 797:./Library/stm32f4xx_dma.c **** {
 739              		.loc 1 797 1 is_stmt 1 view -0
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 0
 742              		@ frame_needed = 0, uses_anonymous_args = 0
 743              		@ link register save eliminated.
 798:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 799:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 744              		.loc 1 799 3 view .LVU243
 800:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_CURRENT_MEM(DMA_MemoryTarget));
 745              		.loc 1 800 3 view .LVU244
 801:./Library/stm32f4xx_dma.c ****     
 802:./Library/stm32f4xx_dma.c ****   /* Check the Memory target to be configured */
 803:./Library/stm32f4xx_dma.c ****   if (DMA_MemoryTarget != DMA_Memory_0)
 746              		.loc 1 803 3 view .LVU245
 747              		.loc 1 803 6 is_stmt 0 view .LVU246
 748 0000 0AB1     		cbz	r2, .L59
 804:./Library/stm32f4xx_dma.c ****   {
 805:./Library/stm32f4xx_dma.c ****     /* Write to DMAy Streamx M1AR */
 806:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->M1AR = MemoryBaseAddr;    
 749              		.loc 1 806 5 is_stmt 1 view .LVU247
 750              		.loc 1 806 24 is_stmt 0 view .LVU248
 751 0002 0161     		str	r1, [r0, #16]
 752 0004 7047     		bx	lr
 753              	.L59:
 807:./Library/stm32f4xx_dma.c ****   }  
 808:./Library/stm32f4xx_dma.c ****   else
 809:./Library/stm32f4xx_dma.c ****   {
 810:./Library/stm32f4xx_dma.c ****     /* Write to DMAy Streamx M0AR */
 811:./Library/stm32f4xx_dma.c ****     DMAy_Streamx->M0AR = MemoryBaseAddr;  
 754              		.loc 1 811 5 is_stmt 1 view .LVU249
 755              		.loc 1 811 24 is_stmt 0 view .LVU250
 756 0006 C160     		str	r1, [r0, #12]
 812:./Library/stm32f4xx_dma.c ****   }
 813:./Library/stm32f4xx_dma.c **** }
 757              		.loc 1 813 1 view .LVU251
 758 0008 7047     		bx	lr
 759              		.cfi_endproc
 760              	.LFE133:
 762              		.section	.text.DMA_GetCurrentMemoryTarget,"ax",%progbits
 763              		.align	1
 764              		.global	DMA_GetCurrentMemoryTarget
 765              		.syntax unified
 766              		.thumb
 767              		.thumb_func
 769              	DMA_GetCurrentMemoryTarget:
 770              	.LVL21:
ARM GAS  /tmp/ccwpGFja.s 			page 29


 771              	.LFB134:
 814:./Library/stm32f4xx_dma.c **** 
 815:./Library/stm32f4xx_dma.c **** /**
 816:./Library/stm32f4xx_dma.c ****   * @brief  Returns the current memory target used by double buffer transfer.
 817:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 818:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 819:./Library/stm32f4xx_dma.c ****   * @retval The memory target number: 0 for Memory0 or 1 for Memory1. 
 820:./Library/stm32f4xx_dma.c ****   */
 821:./Library/stm32f4xx_dma.c **** uint32_t DMA_GetCurrentMemoryTarget(DMA_Stream_TypeDef* DMAy_Streamx)
 822:./Library/stm32f4xx_dma.c **** {
 772              		.loc 1 822 1 is_stmt 1 view -0
 773              		.cfi_startproc
 774              		@ args = 0, pretend = 0, frame = 0
 775              		@ frame_needed = 0, uses_anonymous_args = 0
 776              		@ link register save eliminated.
 823:./Library/stm32f4xx_dma.c ****   uint32_t tmp = 0;
 777              		.loc 1 823 3 view .LVU253
 824:./Library/stm32f4xx_dma.c ****   
 825:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 826:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 778              		.loc 1 826 3 view .LVU254
 827:./Library/stm32f4xx_dma.c **** 
 828:./Library/stm32f4xx_dma.c ****   /* Get the current memory target */
 829:./Library/stm32f4xx_dma.c ****   if ((DMAy_Streamx->CR & DMA_SxCR_CT) != 0)
 779              		.loc 1 829 3 view .LVU255
 780              		.loc 1 829 20 is_stmt 0 view .LVU256
 781 0000 0068     		ldr	r0, [r0]
 782              	.LVL22:
 783              		.loc 1 829 6 view .LVU257
 784 0002 10F40020 		ands	r0, r0, #524288
 785 0006 00D0     		beq	.L61
 830:./Library/stm32f4xx_dma.c ****   {
 831:./Library/stm32f4xx_dma.c ****     /* Current memory buffer used is Memory 1 */
 832:./Library/stm32f4xx_dma.c ****     tmp = 1;
 786              		.loc 1 832 9 view .LVU258
 787 0008 0120     		movs	r0, #1
 788              	.LVL23:
 833:./Library/stm32f4xx_dma.c ****   }  
 834:./Library/stm32f4xx_dma.c ****   else
 835:./Library/stm32f4xx_dma.c ****   {
 836:./Library/stm32f4xx_dma.c ****     /* Current memory buffer used is Memory 0 */
 837:./Library/stm32f4xx_dma.c ****     tmp = 0;    
 838:./Library/stm32f4xx_dma.c ****   }
 839:./Library/stm32f4xx_dma.c ****   return tmp;
 789              		.loc 1 839 3 is_stmt 1 view .LVU259
 790              	.L61:
 840:./Library/stm32f4xx_dma.c **** }
 791              		.loc 1 840 1 is_stmt 0 view .LVU260
 792 000a 7047     		bx	lr
 793              		.cfi_endproc
 794              	.LFE134:
 796              		.section	.text.DMA_GetCmdStatus,"ax",%progbits
 797              		.align	1
 798              		.global	DMA_GetCmdStatus
 799              		.syntax unified
 800              		.thumb
 801              		.thumb_func
ARM GAS  /tmp/ccwpGFja.s 			page 30


 803              	DMA_GetCmdStatus:
 804              	.LVL24:
 805              	.LFB135:
 841:./Library/stm32f4xx_dma.c **** /**
 842:./Library/stm32f4xx_dma.c ****   * @}
 843:./Library/stm32f4xx_dma.c ****   */
 844:./Library/stm32f4xx_dma.c **** 
 845:./Library/stm32f4xx_dma.c **** /** @defgroup DMA_Group4 Interrupts and flags management functions
 846:./Library/stm32f4xx_dma.c ****  *  @brief   Interrupts and flags management functions 
 847:./Library/stm32f4xx_dma.c ****  *
 848:./Library/stm32f4xx_dma.c **** @verbatim   
 849:./Library/stm32f4xx_dma.c ****  ===============================================================================
 850:./Library/stm32f4xx_dma.c ****               ##### Interrupts and flags management functions #####
 851:./Library/stm32f4xx_dma.c ****  ===============================================================================  
 852:./Library/stm32f4xx_dma.c ****     [..]
 853:./Library/stm32f4xx_dma.c ****     This subsection provides functions allowing to
 854:./Library/stm32f4xx_dma.c ****       (+) Check the DMA enable status
 855:./Library/stm32f4xx_dma.c ****       (+) Check the FIFO status 
 856:./Library/stm32f4xx_dma.c ****       (+) Configure the DMA Interrupts sources and check or clear the flags or 
 857:./Library/stm32f4xx_dma.c ****           pending bits status.  
 858:./Library/stm32f4xx_dma.c ****            
 859:./Library/stm32f4xx_dma.c ****     [..]
 860:./Library/stm32f4xx_dma.c ****       (#) DMA Enable status:
 861:./Library/stm32f4xx_dma.c ****           After configuring the DMA Stream (DMA_Init() function) and enabling 
 862:./Library/stm32f4xx_dma.c ****           the stream, it is recommended to check (or wait until) the DMA Stream 
 863:./Library/stm32f4xx_dma.c ****           is effectively enabled. A Stream may remain disabled if a configuration 
 864:./Library/stm32f4xx_dma.c ****           parameter is wrong. After disabling a DMA Stream, it is also recommended 
 865:./Library/stm32f4xx_dma.c ****           to check (or wait until) the DMA Stream is effectively disabled. 
 866:./Library/stm32f4xx_dma.c ****           If a Stream is disabled while a data transfer is ongoing, the current 
 867:./Library/stm32f4xx_dma.c ****           data will be transferred and the Stream will be effectively disabled 
 868:./Library/stm32f4xx_dma.c ****           only after this data transfer completion.
 869:./Library/stm32f4xx_dma.c ****           To monitor this state it is possible to use the following function:
 870:./Library/stm32f4xx_dma.c ****         (++) FunctionalState DMA_GetCmdStatus(DMA_Stream_TypeDef* DMAy_Streamx); 
 871:./Library/stm32f4xx_dma.c ****  
 872:./Library/stm32f4xx_dma.c ****       (#) FIFO Status:
 873:./Library/stm32f4xx_dma.c ****           It is possible to monitor the FIFO status when a transfer is ongoing 
 874:./Library/stm32f4xx_dma.c ****           using the following function:
 875:./Library/stm32f4xx_dma.c ****         (++) uint32_t DMA_GetFIFOStatus(DMA_Stream_TypeDef* DMAy_Streamx); 
 876:./Library/stm32f4xx_dma.c ****  
 877:./Library/stm32f4xx_dma.c ****       (#) DMA Interrupts and Flags:
 878:./Library/stm32f4xx_dma.c ****           The user should identify which mode will be used in his application 
 879:./Library/stm32f4xx_dma.c ****           to manage the DMA controller events: Polling mode or Interrupt mode. 
 880:./Library/stm32f4xx_dma.c ****     
 881:./Library/stm32f4xx_dma.c ****     *** Polling Mode ***
 882:./Library/stm32f4xx_dma.c ****     ====================
 883:./Library/stm32f4xx_dma.c ****     [..]
 884:./Library/stm32f4xx_dma.c ****     Each DMA stream can be managed through 4 event Flags:
 885:./Library/stm32f4xx_dma.c ****     (x : DMA Stream number )
 886:./Library/stm32f4xx_dma.c ****       (#) DMA_FLAG_FEIFx  : to indicate that a FIFO Mode Transfer Error event occurred.
 887:./Library/stm32f4xx_dma.c ****       (#) DMA_FLAG_DMEIFx : to indicate that a Direct Mode Transfer Error event occurred.
 888:./Library/stm32f4xx_dma.c ****       (#) DMA_FLAG_TEIFx  : to indicate that a Transfer Error event occurred.
 889:./Library/stm32f4xx_dma.c ****       (#) DMA_FLAG_HTIFx  : to indicate that a Half-Transfer Complete event occurred.
 890:./Library/stm32f4xx_dma.c ****       (#) DMA_FLAG_TCIFx  : to indicate that a Transfer Complete event occurred .       
 891:./Library/stm32f4xx_dma.c ****     [..]
 892:./Library/stm32f4xx_dma.c ****     In this Mode it is advised to use the following functions:
 893:./Library/stm32f4xx_dma.c ****       (+) FlagStatus DMA_GetFlagStatus(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_FLAG);
 894:./Library/stm32f4xx_dma.c ****       (+) void DMA_ClearFlag(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_FLAG);
ARM GAS  /tmp/ccwpGFja.s 			page 31


 895:./Library/stm32f4xx_dma.c **** 
 896:./Library/stm32f4xx_dma.c ****     *** Interrupt Mode ***
 897:./Library/stm32f4xx_dma.c ****     ======================
 898:./Library/stm32f4xx_dma.c ****     [..]
 899:./Library/stm32f4xx_dma.c ****     Each DMA Stream can be managed through 4 Interrupts:
 900:./Library/stm32f4xx_dma.c **** 
 901:./Library/stm32f4xx_dma.c ****     *** Interrupt Source ***
 902:./Library/stm32f4xx_dma.c ****     ========================
 903:./Library/stm32f4xx_dma.c ****     [..]
 904:./Library/stm32f4xx_dma.c ****       (#) DMA_IT_FEIFx  : specifies the interrupt source for the  FIFO Mode Transfer Error event.
 905:./Library/stm32f4xx_dma.c ****       (#) DMA_IT_DMEIFx : specifies the interrupt source for the Direct Mode Transfer Error event.
 906:./Library/stm32f4xx_dma.c ****       (#) DMA_IT_TEIFx  : specifies the interrupt source for the Transfer Error event.
 907:./Library/stm32f4xx_dma.c ****       (#) DMA_IT_HTIFx  : specifies the interrupt source for the Half-Transfer Complete event.
 908:./Library/stm32f4xx_dma.c ****       (#) DMA_IT_TCIFx  : specifies the interrupt source for the a Transfer Complete event. 
 909:./Library/stm32f4xx_dma.c ****     [..]
 910:./Library/stm32f4xx_dma.c ****     In this Mode it is advised to use the following functions:
 911:./Library/stm32f4xx_dma.c ****       (+) void DMA_ITConfig(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT, FunctionalState NewS
 912:./Library/stm32f4xx_dma.c ****       (+) ITStatus DMA_GetITStatus(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT);
 913:./Library/stm32f4xx_dma.c ****       (+) void DMA_ClearITPendingBit(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT);
 914:./Library/stm32f4xx_dma.c **** 
 915:./Library/stm32f4xx_dma.c **** @endverbatim
 916:./Library/stm32f4xx_dma.c ****   * @{
 917:./Library/stm32f4xx_dma.c ****   */
 918:./Library/stm32f4xx_dma.c **** 
 919:./Library/stm32f4xx_dma.c **** /**
 920:./Library/stm32f4xx_dma.c ****   * @brief  Returns the status of EN bit for the specified DMAy Streamx.
 921:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 922:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 923:./Library/stm32f4xx_dma.c ****   *   
 924:./Library/stm32f4xx_dma.c ****   * @note    After configuring the DMA Stream (DMA_Init() function) and enabling
 925:./Library/stm32f4xx_dma.c ****   *          the stream, it is recommended to check (or wait until) the DMA Stream
 926:./Library/stm32f4xx_dma.c ****   *          is effectively enabled. A Stream may remain disabled if a configuration
 927:./Library/stm32f4xx_dma.c ****   *          parameter is wrong.
 928:./Library/stm32f4xx_dma.c ****   *          After disabling a DMA Stream, it is also recommended to check (or wait 
 929:./Library/stm32f4xx_dma.c ****   *          until) the DMA Stream is effectively disabled. If a Stream is disabled
 930:./Library/stm32f4xx_dma.c ****   *          while a data transfer is ongoing, the current data will be transferred
 931:./Library/stm32f4xx_dma.c ****   *          and the Stream will be effectively disabled only after the transfer
 932:./Library/stm32f4xx_dma.c ****   *          of this single data is finished.  
 933:./Library/stm32f4xx_dma.c ****   *      
 934:./Library/stm32f4xx_dma.c ****   * @retval Current state of the DMAy Streamx (ENABLE or DISABLE).
 935:./Library/stm32f4xx_dma.c ****   */
 936:./Library/stm32f4xx_dma.c **** FunctionalState DMA_GetCmdStatus(DMA_Stream_TypeDef* DMAy_Streamx)
 937:./Library/stm32f4xx_dma.c **** {
 806              		.loc 1 937 1 is_stmt 1 view -0
 807              		.cfi_startproc
 808              		@ args = 0, pretend = 0, frame = 0
 809              		@ frame_needed = 0, uses_anonymous_args = 0
 810              		@ link register save eliminated.
 938:./Library/stm32f4xx_dma.c ****   FunctionalState state = DISABLE;
 811              		.loc 1 938 3 view .LVU262
 939:./Library/stm32f4xx_dma.c **** 
 940:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 941:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 812              		.loc 1 941 3 view .LVU263
 942:./Library/stm32f4xx_dma.c **** 
 943:./Library/stm32f4xx_dma.c ****   if ((DMAy_Streamx->CR & (uint32_t)DMA_SxCR_EN) != 0)
 813              		.loc 1 943 3 view .LVU264
ARM GAS  /tmp/ccwpGFja.s 			page 32


 814              		.loc 1 943 20 is_stmt 0 view .LVU265
 815 0000 0368     		ldr	r3, [r0]
 816              		.loc 1 943 6 view .LVU266
 817 0002 13F0010F 		tst	r3, #1
 818 0006 01D0     		beq	.L65
 944:./Library/stm32f4xx_dma.c ****   {
 945:./Library/stm32f4xx_dma.c ****     /* The selected DMAy Streamx EN bit is set (DMA is still transferring) */
 946:./Library/stm32f4xx_dma.c ****     state = ENABLE;
 819              		.loc 1 946 11 view .LVU267
 820 0008 0120     		movs	r0, #1
 821              	.LVL25:
 822              		.loc 1 946 11 view .LVU268
 823 000a 7047     		bx	lr
 824              	.LVL26:
 825              	.L65:
 947:./Library/stm32f4xx_dma.c ****   }
 948:./Library/stm32f4xx_dma.c ****   else
 949:./Library/stm32f4xx_dma.c ****   {
 950:./Library/stm32f4xx_dma.c ****     /* The selected DMAy Streamx EN bit is cleared (DMA is disabled and 
 951:./Library/stm32f4xx_dma.c ****         all transfers are complete) */
 952:./Library/stm32f4xx_dma.c ****     state = DISABLE;
 826              		.loc 1 952 11 view .LVU269
 827 000c 0020     		movs	r0, #0
 828              	.LVL27:
 953:./Library/stm32f4xx_dma.c ****   }
 954:./Library/stm32f4xx_dma.c ****   return state;
 829              		.loc 1 954 3 is_stmt 1 view .LVU270
 955:./Library/stm32f4xx_dma.c **** }
 830              		.loc 1 955 1 is_stmt 0 view .LVU271
 831 000e 7047     		bx	lr
 832              		.cfi_endproc
 833              	.LFE135:
 835              		.section	.text.DMA_GetFIFOStatus,"ax",%progbits
 836              		.align	1
 837              		.global	DMA_GetFIFOStatus
 838              		.syntax unified
 839              		.thumb
 840              		.thumb_func
 842              	DMA_GetFIFOStatus:
 843              	.LVL28:
 844              	.LFB136:
 956:./Library/stm32f4xx_dma.c **** 
 957:./Library/stm32f4xx_dma.c **** /**
 958:./Library/stm32f4xx_dma.c ****   * @brief  Returns the current DMAy Streamx FIFO filled level.
 959:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0 
 960:./Library/stm32f4xx_dma.c ****   *         to 7 to select the DMA Stream.
 961:./Library/stm32f4xx_dma.c ****   * @retval The FIFO filling state.
 962:./Library/stm32f4xx_dma.c ****   *           - DMA_FIFOStatus_Less1QuarterFull: when FIFO is less than 1 quarter-full 
 963:./Library/stm32f4xx_dma.c ****   *                                               and not empty.
 964:./Library/stm32f4xx_dma.c ****   *           - DMA_FIFOStatus_1QuarterFull: if more than 1 quarter-full.
 965:./Library/stm32f4xx_dma.c ****   *           - DMA_FIFOStatus_HalfFull: if more than 1 half-full.
 966:./Library/stm32f4xx_dma.c ****   *           - DMA_FIFOStatus_3QuartersFull: if more than 3 quarters-full.
 967:./Library/stm32f4xx_dma.c ****   *           - DMA_FIFOStatus_Empty: when FIFO is empty
 968:./Library/stm32f4xx_dma.c ****   *           - DMA_FIFOStatus_Full: when FIFO is full
 969:./Library/stm32f4xx_dma.c ****   */
 970:./Library/stm32f4xx_dma.c **** uint32_t DMA_GetFIFOStatus(DMA_Stream_TypeDef* DMAy_Streamx)
 971:./Library/stm32f4xx_dma.c **** {
ARM GAS  /tmp/ccwpGFja.s 			page 33


 845              		.loc 1 971 1 is_stmt 1 view -0
 846              		.cfi_startproc
 847              		@ args = 0, pretend = 0, frame = 0
 848              		@ frame_needed = 0, uses_anonymous_args = 0
 849              		@ link register save eliminated.
 972:./Library/stm32f4xx_dma.c ****   uint32_t tmpreg = 0;
 850              		.loc 1 972 3 view .LVU273
 973:./Library/stm32f4xx_dma.c ****  
 974:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
 975:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 851              		.loc 1 975 3 view .LVU274
 976:./Library/stm32f4xx_dma.c ****   
 977:./Library/stm32f4xx_dma.c ****   /* Get the FIFO level bits */
 978:./Library/stm32f4xx_dma.c ****   tmpreg = (uint32_t)((DMAy_Streamx->FCR & DMA_SxFCR_FS));
 852              		.loc 1 978 3 view .LVU275
 853              		.loc 1 978 36 is_stmt 0 view .LVU276
 854 0000 4069     		ldr	r0, [r0, #20]
 855              	.LVL29:
 979:./Library/stm32f4xx_dma.c ****   
 980:./Library/stm32f4xx_dma.c ****   return tmpreg;
 856              		.loc 1 980 3 is_stmt 1 view .LVU277
 981:./Library/stm32f4xx_dma.c **** }
 857              		.loc 1 981 1 is_stmt 0 view .LVU278
 858 0002 00F03800 		and	r0, r0, #56
 859              	.LVL30:
 860              		.loc 1 981 1 view .LVU279
 861 0006 7047     		bx	lr
 862              		.cfi_endproc
 863              	.LFE136:
 865              		.section	.text.DMA_GetFlagStatus,"ax",%progbits
 866              		.align	1
 867              		.global	DMA_GetFlagStatus
 868              		.syntax unified
 869              		.thumb
 870              		.thumb_func
 872              	DMA_GetFlagStatus:
 873              	.LVL31:
 874              	.LFB137:
 982:./Library/stm32f4xx_dma.c **** 
 983:./Library/stm32f4xx_dma.c **** /**
 984:./Library/stm32f4xx_dma.c ****   * @brief  Checks whether the specified DMAy Streamx flag is set or not.
 985:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
 986:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
 987:./Library/stm32f4xx_dma.c ****   * @param  DMA_FLAG: specifies the flag to check.
 988:./Library/stm32f4xx_dma.c ****   *          This parameter can be one of the following values:
 989:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_TCIFx:  Streamx transfer complete flag
 990:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_HTIFx:  Streamx half transfer complete flag
 991:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_TEIFx:  Streamx transfer error flag
 992:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_DMEIFx: Streamx direct mode error flag
 993:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_FEIFx:  Streamx FIFO error flag
 994:./Library/stm32f4xx_dma.c ****   *         Where x can be 0 to 7 to select the DMA Stream.
 995:./Library/stm32f4xx_dma.c ****   * @retval The new state of DMA_FLAG (SET or RESET).
 996:./Library/stm32f4xx_dma.c ****   */
 997:./Library/stm32f4xx_dma.c **** FlagStatus DMA_GetFlagStatus(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_FLAG)
 998:./Library/stm32f4xx_dma.c **** {
 875              		.loc 1 998 1 is_stmt 1 view -0
 876              		.cfi_startproc
ARM GAS  /tmp/ccwpGFja.s 			page 34


 877              		@ args = 0, pretend = 0, frame = 0
 878              		@ frame_needed = 0, uses_anonymous_args = 0
 879              		@ link register save eliminated.
 999:./Library/stm32f4xx_dma.c ****   FlagStatus bitstatus = RESET;
 880              		.loc 1 999 3 view .LVU281
1000:./Library/stm32f4xx_dma.c ****   DMA_TypeDef* DMAy;
 881              		.loc 1 1000 3 view .LVU282
1001:./Library/stm32f4xx_dma.c ****   uint32_t tmpreg = 0;
 882              		.loc 1 1001 3 view .LVU283
1002:./Library/stm32f4xx_dma.c **** 
1003:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
1004:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 883              		.loc 1 1004 3 view .LVU284
1005:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_GET_FLAG(DMA_FLAG));
 884              		.loc 1 1005 3 view .LVU285
1006:./Library/stm32f4xx_dma.c **** 
1007:./Library/stm32f4xx_dma.c ****   /* Determine the DMA to which belongs the stream */
1008:./Library/stm32f4xx_dma.c ****   if (DMAy_Streamx < DMA2_Stream0)
 885              		.loc 1 1008 3 view .LVU286
 886              		.loc 1 1008 6 is_stmt 0 view .LVU287
 887 0000 0B4B     		ldr	r3, .L74
 888 0002 9842     		cmp	r0, r3
 889 0004 0DD8     		bhi	.L72
1009:./Library/stm32f4xx_dma.c ****   {
1010:./Library/stm32f4xx_dma.c ****     /* DMAy_Streamx belongs to DMA1 */
1011:./Library/stm32f4xx_dma.c ****     DMAy = DMA1; 
 890              		.loc 1 1011 10 view .LVU288
 891 0006 A3F20F43 		subw	r3, r3, #1039
 892              	.L68:
 893              	.LVL32:
1012:./Library/stm32f4xx_dma.c ****   } 
1013:./Library/stm32f4xx_dma.c ****   else 
1014:./Library/stm32f4xx_dma.c ****   {
1015:./Library/stm32f4xx_dma.c ****     /* DMAy_Streamx belongs to DMA2 */
1016:./Library/stm32f4xx_dma.c ****     DMAy = DMA2; 
1017:./Library/stm32f4xx_dma.c ****   }
1018:./Library/stm32f4xx_dma.c **** 
1019:./Library/stm32f4xx_dma.c ****   /* Check if the flag is in HISR or LISR */
1020:./Library/stm32f4xx_dma.c ****   if ((DMA_FLAG & HIGH_ISR_MASK) != (uint32_t)RESET)
 894              		.loc 1 1020 3 is_stmt 1 view .LVU289
 895              		.loc 1 1020 6 is_stmt 0 view .LVU290
 896 000a 11F0005F 		tst	r1, #536870912
 897 000e 0AD0     		beq	.L69
1021:./Library/stm32f4xx_dma.c ****   {
1022:./Library/stm32f4xx_dma.c ****     /* Get DMAy HISR register value */
1023:./Library/stm32f4xx_dma.c ****     tmpreg = DMAy->HISR;
 898              		.loc 1 1023 5 is_stmt 1 view .LVU291
 899              		.loc 1 1023 12 is_stmt 0 view .LVU292
 900 0010 5B68     		ldr	r3, [r3, #4]
 901              	.LVL33:
 902              	.L70:
1024:./Library/stm32f4xx_dma.c ****   }
1025:./Library/stm32f4xx_dma.c ****   else
1026:./Library/stm32f4xx_dma.c ****   {
1027:./Library/stm32f4xx_dma.c ****     /* Get DMAy LISR register value */
1028:./Library/stm32f4xx_dma.c ****     tmpreg = DMAy->LISR;
1029:./Library/stm32f4xx_dma.c ****   }   
ARM GAS  /tmp/ccwpGFja.s 			page 35


1030:./Library/stm32f4xx_dma.c ****  
1031:./Library/stm32f4xx_dma.c ****   /* Mask the reserved bits */
1032:./Library/stm32f4xx_dma.c ****   tmpreg &= (uint32_t)RESERVED_MASK;
 903              		.loc 1 1032 3 is_stmt 1 view .LVU293
 904              		.loc 1 1032 10 is_stmt 0 view .LVU294
 905 0012 23F0F023 		bic	r3, r3, #-268374016
 906              	.LVL34:
 907              		.loc 1 1032 10 view .LVU295
 908 0016 23F08213 		bic	r3, r3, #8519810
 909              	.LVL35:
1033:./Library/stm32f4xx_dma.c **** 
1034:./Library/stm32f4xx_dma.c ****   /* Check the status of the specified DMA flag */
1035:./Library/stm32f4xx_dma.c ****   if ((tmpreg & DMA_FLAG) != (uint32_t)RESET)
 910              		.loc 1 1035 3 is_stmt 1 view .LVU296
 911              		.loc 1 1035 6 is_stmt 0 view .LVU297
 912 001a 1942     		tst	r1, r3
 913 001c 05D0     		beq	.L73
1036:./Library/stm32f4xx_dma.c ****   {
1037:./Library/stm32f4xx_dma.c ****     /* DMA_FLAG is set */
1038:./Library/stm32f4xx_dma.c ****     bitstatus = SET;
 914              		.loc 1 1038 15 view .LVU298
 915 001e 0120     		movs	r0, #1
 916              	.LVL36:
 917              		.loc 1 1038 15 view .LVU299
 918 0020 7047     		bx	lr
 919              	.LVL37:
 920              	.L72:
1016:./Library/stm32f4xx_dma.c ****   }
 921              		.loc 1 1016 10 view .LVU300
 922 0022 044B     		ldr	r3, .L74+4
 923 0024 F1E7     		b	.L68
 924              	.LVL38:
 925              	.L69:
1028:./Library/stm32f4xx_dma.c ****   }   
 926              		.loc 1 1028 5 is_stmt 1 view .LVU301
1028:./Library/stm32f4xx_dma.c ****   }   
 927              		.loc 1 1028 12 is_stmt 0 view .LVU302
 928 0026 1B68     		ldr	r3, [r3]
 929              	.LVL39:
1028:./Library/stm32f4xx_dma.c ****   }   
 930              		.loc 1 1028 12 view .LVU303
 931 0028 F3E7     		b	.L70
 932              	.L73:
1039:./Library/stm32f4xx_dma.c ****   }
1040:./Library/stm32f4xx_dma.c ****   else
1041:./Library/stm32f4xx_dma.c ****   {
1042:./Library/stm32f4xx_dma.c ****     /* DMA_FLAG is reset */
1043:./Library/stm32f4xx_dma.c ****     bitstatus = RESET;
 933              		.loc 1 1043 15 view .LVU304
 934 002a 0020     		movs	r0, #0
 935              	.LVL40:
1044:./Library/stm32f4xx_dma.c ****   }
1045:./Library/stm32f4xx_dma.c **** 
1046:./Library/stm32f4xx_dma.c ****   /* Return the DMA_FLAG status */
1047:./Library/stm32f4xx_dma.c ****   return  bitstatus;
 936              		.loc 1 1047 3 is_stmt 1 view .LVU305
1048:./Library/stm32f4xx_dma.c **** }
ARM GAS  /tmp/ccwpGFja.s 			page 36


 937              		.loc 1 1048 1 is_stmt 0 view .LVU306
 938 002c 7047     		bx	lr
 939              	.L75:
 940 002e 00BF     		.align	2
 941              	.L74:
 942 0030 0F640240 		.word	1073898511
 943 0034 00640240 		.word	1073898496
 944              		.cfi_endproc
 945              	.LFE137:
 947              		.section	.text.DMA_ClearFlag,"ax",%progbits
 948              		.align	1
 949              		.global	DMA_ClearFlag
 950              		.syntax unified
 951              		.thumb
 952              		.thumb_func
 954              	DMA_ClearFlag:
 955              	.LVL41:
 956              	.LFB138:
1049:./Library/stm32f4xx_dma.c **** 
1050:./Library/stm32f4xx_dma.c **** /**
1051:./Library/stm32f4xx_dma.c ****   * @brief  Clears the DMAy Streamx's pending flags.
1052:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
1053:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
1054:./Library/stm32f4xx_dma.c ****   * @param  DMA_FLAG: specifies the flag to clear.
1055:./Library/stm32f4xx_dma.c ****   *          This parameter can be any combination of the following values:
1056:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_TCIFx:  Streamx transfer complete flag
1057:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_HTIFx:  Streamx half transfer complete flag
1058:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_TEIFx:  Streamx transfer error flag
1059:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_DMEIFx: Streamx direct mode error flag
1060:./Library/stm32f4xx_dma.c ****   *            @arg DMA_FLAG_FEIFx:  Streamx FIFO error flag
1061:./Library/stm32f4xx_dma.c ****   *         Where x can be 0 to 7 to select the DMA Stream.   
1062:./Library/stm32f4xx_dma.c ****   * @retval None
1063:./Library/stm32f4xx_dma.c ****   */
1064:./Library/stm32f4xx_dma.c **** void DMA_ClearFlag(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_FLAG)
1065:./Library/stm32f4xx_dma.c **** {
 957              		.loc 1 1065 1 is_stmt 1 view -0
 958              		.cfi_startproc
 959              		@ args = 0, pretend = 0, frame = 0
 960              		@ frame_needed = 0, uses_anonymous_args = 0
 961              		@ link register save eliminated.
1066:./Library/stm32f4xx_dma.c ****   DMA_TypeDef* DMAy;
 962              		.loc 1 1066 3 view .LVU308
1067:./Library/stm32f4xx_dma.c **** 
1068:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
1069:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 963              		.loc 1 1069 3 view .LVU309
1070:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_CLEAR_FLAG(DMA_FLAG));
 964              		.loc 1 1070 3 view .LVU310
1071:./Library/stm32f4xx_dma.c **** 
1072:./Library/stm32f4xx_dma.c ****   /* Determine the DMA to which belongs the stream */
1073:./Library/stm32f4xx_dma.c ****   if (DMAy_Streamx < DMA2_Stream0)
 965              		.loc 1 1073 3 view .LVU311
 966              		.loc 1 1073 6 is_stmt 0 view .LVU312
 967 0000 0A4B     		ldr	r3, .L81
 968 0002 9842     		cmp	r0, r3
 969 0004 0AD8     		bhi	.L80
1074:./Library/stm32f4xx_dma.c ****   {
ARM GAS  /tmp/ccwpGFja.s 			page 37


1075:./Library/stm32f4xx_dma.c ****     /* DMAy_Streamx belongs to DMA1 */
1076:./Library/stm32f4xx_dma.c ****     DMAy = DMA1; 
 970              		.loc 1 1076 10 view .LVU313
 971 0006 A3F20F43 		subw	r3, r3, #1039
 972              	.L77:
 973              	.LVL42:
1077:./Library/stm32f4xx_dma.c ****   } 
1078:./Library/stm32f4xx_dma.c ****   else 
1079:./Library/stm32f4xx_dma.c ****   {
1080:./Library/stm32f4xx_dma.c ****     /* DMAy_Streamx belongs to DMA2 */
1081:./Library/stm32f4xx_dma.c ****     DMAy = DMA2; 
1082:./Library/stm32f4xx_dma.c ****   }
1083:./Library/stm32f4xx_dma.c **** 
1084:./Library/stm32f4xx_dma.c ****   /* Check if LIFCR or HIFCR register is targeted */
1085:./Library/stm32f4xx_dma.c ****   if ((DMA_FLAG & HIGH_ISR_MASK) != (uint32_t)RESET)
 974              		.loc 1 1085 3 is_stmt 1 view .LVU314
 975              		.loc 1 1085 6 is_stmt 0 view .LVU315
 976 000a 11F0005F 		tst	r1, #536870912
 977 000e 07D0     		beq	.L78
1086:./Library/stm32f4xx_dma.c ****   {
1087:./Library/stm32f4xx_dma.c ****     /* Set DMAy HIFCR register clear flag bits */
1088:./Library/stm32f4xx_dma.c ****     DMAy->HIFCR = (uint32_t)(DMA_FLAG & RESERVED_MASK);
 978              		.loc 1 1088 5 is_stmt 1 view .LVU316
 979              		.loc 1 1088 19 is_stmt 0 view .LVU317
 980 0010 21F0F021 		bic	r1, r1, #-268374016
 981              	.LVL43:
 982              		.loc 1 1088 19 view .LVU318
 983 0014 21F08211 		bic	r1, r1, #8519810
 984              		.loc 1 1088 17 view .LVU319
 985 0018 D960     		str	r1, [r3, #12]
 986 001a 7047     		bx	lr
 987              	.LVL44:
 988              	.L80:
1081:./Library/stm32f4xx_dma.c ****   }
 989              		.loc 1 1081 10 view .LVU320
 990 001c 044B     		ldr	r3, .L81+4
 991 001e F4E7     		b	.L77
 992              	.LVL45:
 993              	.L78:
1089:./Library/stm32f4xx_dma.c ****   }
1090:./Library/stm32f4xx_dma.c ****   else 
1091:./Library/stm32f4xx_dma.c ****   {
1092:./Library/stm32f4xx_dma.c ****     /* Set DMAy LIFCR register clear flag bits */
1093:./Library/stm32f4xx_dma.c ****     DMAy->LIFCR = (uint32_t)(DMA_FLAG & RESERVED_MASK);
 994              		.loc 1 1093 5 is_stmt 1 view .LVU321
 995              		.loc 1 1093 19 is_stmt 0 view .LVU322
 996 0020 21F0F021 		bic	r1, r1, #-268374016
 997              	.LVL46:
 998              		.loc 1 1093 19 view .LVU323
 999 0024 21F08211 		bic	r1, r1, #8519810
 1000              		.loc 1 1093 17 view .LVU324
 1001 0028 9960     		str	r1, [r3, #8]
1094:./Library/stm32f4xx_dma.c ****   }    
1095:./Library/stm32f4xx_dma.c **** }
 1002              		.loc 1 1095 1 view .LVU325
 1003 002a 7047     		bx	lr
 1004              	.L82:
ARM GAS  /tmp/ccwpGFja.s 			page 38


 1005              		.align	2
 1006              	.L81:
 1007 002c 0F640240 		.word	1073898511
 1008 0030 00640240 		.word	1073898496
 1009              		.cfi_endproc
 1010              	.LFE138:
 1012              		.section	.text.DMA_ITConfig,"ax",%progbits
 1013              		.align	1
 1014              		.global	DMA_ITConfig
 1015              		.syntax unified
 1016              		.thumb
 1017              		.thumb_func
 1019              	DMA_ITConfig:
 1020              	.LVL47:
 1021              	.LFB139:
1096:./Library/stm32f4xx_dma.c **** 
1097:./Library/stm32f4xx_dma.c **** /**
1098:./Library/stm32f4xx_dma.c ****   * @brief  Enables or disables the specified DMAy Streamx interrupts.
1099:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
1100:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
1101:./Library/stm32f4xx_dma.c ****   * @param DMA_IT: specifies the DMA interrupt sources to be enabled or disabled. 
1102:./Library/stm32f4xx_dma.c ****   *          This parameter can be any combination of the following values:
1103:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_TC:  Transfer complete interrupt mask
1104:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_HT:  Half transfer complete interrupt mask
1105:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_TE:  Transfer error interrupt mask
1106:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_FE:  FIFO error interrupt mask
1107:./Library/stm32f4xx_dma.c ****   * @param  NewState: new state of the specified DMA interrupts.
1108:./Library/stm32f4xx_dma.c ****   *          This parameter can be: ENABLE or DISABLE.
1109:./Library/stm32f4xx_dma.c ****   * @retval None
1110:./Library/stm32f4xx_dma.c ****   */
1111:./Library/stm32f4xx_dma.c **** void DMA_ITConfig(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT, FunctionalState NewState)
1112:./Library/stm32f4xx_dma.c **** {
 1022              		.loc 1 1112 1 is_stmt 1 view -0
 1023              		.cfi_startproc
 1024              		@ args = 0, pretend = 0, frame = 0
 1025              		@ frame_needed = 0, uses_anonymous_args = 0
 1026              		@ link register save eliminated.
1113:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
1114:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 1027              		.loc 1 1114 3 view .LVU327
1115:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_CONFIG_IT(DMA_IT));
 1028              		.loc 1 1115 3 view .LVU328
1116:./Library/stm32f4xx_dma.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1029              		.loc 1 1116 3 view .LVU329
1117:./Library/stm32f4xx_dma.c **** 
1118:./Library/stm32f4xx_dma.c ****   /* Check if the DMA_IT parameter contains a FIFO interrupt */
1119:./Library/stm32f4xx_dma.c ****   if ((DMA_IT & DMA_IT_FE) != 0)
 1030              		.loc 1 1119 3 view .LVU330
 1031              		.loc 1 1119 6 is_stmt 0 view .LVU331
 1032 0000 11F0800F 		tst	r1, #128
 1033 0004 04D0     		beq	.L84
1120:./Library/stm32f4xx_dma.c ****   {
1121:./Library/stm32f4xx_dma.c ****     if (NewState != DISABLE)
 1034              		.loc 1 1121 5 is_stmt 1 view .LVU332
 1035              		.loc 1 1121 8 is_stmt 0 view .LVU333
 1036 0006 62B1     		cbz	r2, .L85
1122:./Library/stm32f4xx_dma.c ****     {
ARM GAS  /tmp/ccwpGFja.s 			page 39


1123:./Library/stm32f4xx_dma.c ****       /* Enable the selected DMA FIFO interrupts */
1124:./Library/stm32f4xx_dma.c ****       DMAy_Streamx->FCR |= (uint32_t)DMA_IT_FE;
 1037              		.loc 1 1124 7 is_stmt 1 view .LVU334
 1038              		.loc 1 1124 19 is_stmt 0 view .LVU335
 1039 0008 4369     		ldr	r3, [r0, #20]
 1040              		.loc 1 1124 25 view .LVU336
 1041 000a 43F08003 		orr	r3, r3, #128
 1042 000e 4361     		str	r3, [r0, #20]
 1043              	.L84:
1125:./Library/stm32f4xx_dma.c ****     }    
1126:./Library/stm32f4xx_dma.c ****     else 
1127:./Library/stm32f4xx_dma.c ****     {
1128:./Library/stm32f4xx_dma.c ****       /* Disable the selected DMA FIFO interrupts */
1129:./Library/stm32f4xx_dma.c ****       DMAy_Streamx->FCR &= ~(uint32_t)DMA_IT_FE;  
1130:./Library/stm32f4xx_dma.c ****     }
1131:./Library/stm32f4xx_dma.c ****   }
1132:./Library/stm32f4xx_dma.c **** 
1133:./Library/stm32f4xx_dma.c ****   /* Check if the DMA_IT parameter contains a Transfer interrupt */
1134:./Library/stm32f4xx_dma.c ****   if (DMA_IT != DMA_IT_FE)
 1044              		.loc 1 1134 3 is_stmt 1 view .LVU337
 1045              		.loc 1 1134 6 is_stmt 0 view .LVU338
 1046 0010 8029     		cmp	r1, #128
 1047 0012 11D0     		beq	.L83
1135:./Library/stm32f4xx_dma.c ****   {
1136:./Library/stm32f4xx_dma.c ****     if (NewState != DISABLE)
 1048              		.loc 1 1136 5 is_stmt 1 view .LVU339
 1049              		.loc 1 1136 8 is_stmt 0 view .LVU340
 1050 0014 52B1     		cbz	r2, .L87
1137:./Library/stm32f4xx_dma.c ****     {
1138:./Library/stm32f4xx_dma.c ****       /* Enable the selected DMA transfer interrupts */
1139:./Library/stm32f4xx_dma.c ****       DMAy_Streamx->CR |= (uint32_t)(DMA_IT  & TRANSFER_IT_ENABLE_MASK);
 1051              		.loc 1 1139 7 is_stmt 1 view .LVU341
 1052              		.loc 1 1139 19 is_stmt 0 view .LVU342
 1053 0016 0368     		ldr	r3, [r0]
 1054              		.loc 1 1139 27 view .LVU343
 1055 0018 01F01E01 		and	r1, r1, #30
 1056              	.LVL48:
 1057              		.loc 1 1139 24 view .LVU344
 1058 001c 0B43     		orrs	r3, r3, r1
 1059 001e 0360     		str	r3, [r0]
 1060 0020 7047     		bx	lr
 1061              	.LVL49:
 1062              	.L85:
1129:./Library/stm32f4xx_dma.c ****     }
 1063              		.loc 1 1129 7 is_stmt 1 view .LVU345
1129:./Library/stm32f4xx_dma.c ****     }
 1064              		.loc 1 1129 19 is_stmt 0 view .LVU346
 1065 0022 4369     		ldr	r3, [r0, #20]
1129:./Library/stm32f4xx_dma.c ****     }
 1066              		.loc 1 1129 25 view .LVU347
 1067 0024 23F08003 		bic	r3, r3, #128
 1068 0028 4361     		str	r3, [r0, #20]
 1069 002a F1E7     		b	.L84
 1070              	.L87:
1140:./Library/stm32f4xx_dma.c ****     }
1141:./Library/stm32f4xx_dma.c ****     else
1142:./Library/stm32f4xx_dma.c ****     {
ARM GAS  /tmp/ccwpGFja.s 			page 40


1143:./Library/stm32f4xx_dma.c ****       /* Disable the selected DMA transfer interrupts */
1144:./Library/stm32f4xx_dma.c ****       DMAy_Streamx->CR &= ~(uint32_t)(DMA_IT & TRANSFER_IT_ENABLE_MASK);
 1071              		.loc 1 1144 7 is_stmt 1 view .LVU348
 1072              		.loc 1 1144 19 is_stmt 0 view .LVU349
 1073 002c 0368     		ldr	r3, [r0]
 1074              		.loc 1 1144 28 view .LVU350
 1075 002e 01F01E01 		and	r1, r1, #30
 1076              	.LVL50:
 1077              		.loc 1 1144 24 view .LVU351
 1078 0032 23EA0103 		bic	r3, r3, r1
 1079 0036 0360     		str	r3, [r0]
 1080              	.L83:
1145:./Library/stm32f4xx_dma.c ****     }    
1146:./Library/stm32f4xx_dma.c ****   }
1147:./Library/stm32f4xx_dma.c **** }
 1081              		.loc 1 1147 1 view .LVU352
 1082 0038 7047     		bx	lr
 1083              		.cfi_endproc
 1084              	.LFE139:
 1086              		.section	.text.DMA_GetITStatus,"ax",%progbits
 1087              		.align	1
 1088              		.global	DMA_GetITStatus
 1089              		.syntax unified
 1090              		.thumb
 1091              		.thumb_func
 1093              	DMA_GetITStatus:
 1094              	.LVL51:
 1095              	.LFB140:
1148:./Library/stm32f4xx_dma.c **** 
1149:./Library/stm32f4xx_dma.c **** /**
1150:./Library/stm32f4xx_dma.c ****   * @brief  Checks whether the specified DMAy Streamx interrupt has occurred or not.
1151:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
1152:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
1153:./Library/stm32f4xx_dma.c ****   * @param  DMA_IT: specifies the DMA interrupt source to check.
1154:./Library/stm32f4xx_dma.c ****   *          This parameter can be one of the following values:
1155:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_TCIFx:  Streamx transfer complete interrupt
1156:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_HTIFx:  Streamx half transfer complete interrupt
1157:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_TEIFx:  Streamx transfer error interrupt
1158:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_DMEIFx: Streamx direct mode error interrupt
1159:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_FEIFx:  Streamx FIFO error interrupt
1160:./Library/stm32f4xx_dma.c ****   *         Where x can be 0 to 7 to select the DMA Stream.
1161:./Library/stm32f4xx_dma.c ****   * @retval The new state of DMA_IT (SET or RESET).
1162:./Library/stm32f4xx_dma.c ****   */
1163:./Library/stm32f4xx_dma.c **** ITStatus DMA_GetITStatus(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT)
1164:./Library/stm32f4xx_dma.c **** {
 1096              		.loc 1 1164 1 is_stmt 1 view -0
 1097              		.cfi_startproc
 1098              		@ args = 0, pretend = 0, frame = 0
 1099              		@ frame_needed = 0, uses_anonymous_args = 0
 1100              		@ link register save eliminated.
 1101              		.loc 1 1164 1 is_stmt 0 view .LVU354
 1102 0000 10B4     		push	{r4}
 1103              	.LCFI2:
 1104              		.cfi_def_cfa_offset 4
 1105              		.cfi_offset 4, -4
1165:./Library/stm32f4xx_dma.c ****   ITStatus bitstatus = RESET;
 1106              		.loc 1 1165 3 is_stmt 1 view .LVU355
ARM GAS  /tmp/ccwpGFja.s 			page 41


 1107              	.LVL52:
1166:./Library/stm32f4xx_dma.c ****   DMA_TypeDef* DMAy;
 1108              		.loc 1 1166 3 view .LVU356
1167:./Library/stm32f4xx_dma.c ****   uint32_t tmpreg = 0, enablestatus = 0;
 1109              		.loc 1 1167 3 view .LVU357
1168:./Library/stm32f4xx_dma.c **** 
1169:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
1170:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 1110              		.loc 1 1170 3 view .LVU358
1171:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_GET_IT(DMA_IT));
 1111              		.loc 1 1171 3 view .LVU359
1172:./Library/stm32f4xx_dma.c ****  
1173:./Library/stm32f4xx_dma.c ****   /* Determine the DMA to which belongs the stream */
1174:./Library/stm32f4xx_dma.c ****   if (DMAy_Streamx < DMA2_Stream0)
 1112              		.loc 1 1174 3 view .LVU360
 1113              		.loc 1 1174 6 is_stmt 0 view .LVU361
 1114 0002 144B     		ldr	r3, .L99
 1115 0004 9842     		cmp	r0, r3
 1116 0006 17D8     		bhi	.L95
1175:./Library/stm32f4xx_dma.c ****   {
1176:./Library/stm32f4xx_dma.c ****     /* DMAy_Streamx belongs to DMA1 */
1177:./Library/stm32f4xx_dma.c ****     DMAy = DMA1; 
 1117              		.loc 1 1177 10 view .LVU362
 1118 0008 134C     		ldr	r4, .L99+4
 1119              	.L89:
 1120              	.LVL53:
1178:./Library/stm32f4xx_dma.c ****   } 
1179:./Library/stm32f4xx_dma.c ****   else 
1180:./Library/stm32f4xx_dma.c ****   {
1181:./Library/stm32f4xx_dma.c ****     /* DMAy_Streamx belongs to DMA2 */
1182:./Library/stm32f4xx_dma.c ****     DMAy = DMA2; 
1183:./Library/stm32f4xx_dma.c ****   }
1184:./Library/stm32f4xx_dma.c **** 
1185:./Library/stm32f4xx_dma.c ****   /* Check if the interrupt enable bit is in the CR or FCR register */
1186:./Library/stm32f4xx_dma.c ****   if ((DMA_IT & TRANSFER_IT_MASK) != (uint32_t)RESET)
 1121              		.loc 1 1186 3 is_stmt 1 view .LVU363
 1122              		.loc 1 1186 15 is_stmt 0 view .LVU364
 1123 000a 21F0F023 		bic	r3, r1, #-268374016
 1124 000e 23F0C313 		bic	r3, r3, #12779715
 1125              		.loc 1 1186 6 view .LVU365
 1126 0012 9BB1     		cbz	r3, .L90
1187:./Library/stm32f4xx_dma.c ****   {
1188:./Library/stm32f4xx_dma.c ****     /* Get the interrupt enable position mask in CR register */
1189:./Library/stm32f4xx_dma.c ****     tmpreg = (uint32_t)((DMA_IT >> 11) & TRANSFER_IT_ENABLE_MASK);   
 1127              		.loc 1 1189 5 is_stmt 1 view .LVU366
 1128              		.loc 1 1189 33 is_stmt 0 view .LVU367
 1129 0014 CB0A     		lsrs	r3, r1, #11
 1130              		.loc 1 1189 12 view .LVU368
 1131 0016 03F01E03 		and	r3, r3, #30
 1132              	.LVL54:
1190:./Library/stm32f4xx_dma.c ****     
1191:./Library/stm32f4xx_dma.c ****     /* Check the enable bit in CR register */
1192:./Library/stm32f4xx_dma.c ****     enablestatus = (uint32_t)(DMAy_Streamx->CR & tmpreg);
 1133              		.loc 1 1192 5 is_stmt 1 view .LVU369
 1134              		.loc 1 1192 43 is_stmt 0 view .LVU370
 1135 001a 0268     		ldr	r2, [r0]
 1136              		.loc 1 1192 18 view .LVU371
ARM GAS  /tmp/ccwpGFja.s 			page 42


 1137 001c 1A40     		ands	r2, r2, r3
 1138              	.LVL55:
 1139              	.L91:
1193:./Library/stm32f4xx_dma.c ****   }
1194:./Library/stm32f4xx_dma.c ****   else 
1195:./Library/stm32f4xx_dma.c ****   {
1196:./Library/stm32f4xx_dma.c ****     /* Check the enable bit in FCR register */
1197:./Library/stm32f4xx_dma.c ****     enablestatus = (uint32_t)(DMAy_Streamx->FCR & DMA_IT_FE); 
1198:./Library/stm32f4xx_dma.c ****   }
1199:./Library/stm32f4xx_dma.c ****  
1200:./Library/stm32f4xx_dma.c ****   /* Check if the interrupt pending flag is in LISR or HISR */
1201:./Library/stm32f4xx_dma.c ****   if ((DMA_IT & HIGH_ISR_MASK) != (uint32_t)RESET)
 1140              		.loc 1 1201 3 is_stmt 1 view .LVU372
 1141              		.loc 1 1201 6 is_stmt 0 view .LVU373
 1142 001e 11F0005F 		tst	r1, #536870912
 1143 0022 0FD0     		beq	.L92
1202:./Library/stm32f4xx_dma.c ****   {
1203:./Library/stm32f4xx_dma.c ****     /* Get DMAy HISR register value */
1204:./Library/stm32f4xx_dma.c ****     tmpreg = DMAy->HISR ;
 1144              		.loc 1 1204 5 is_stmt 1 view .LVU374
 1145              		.loc 1 1204 12 is_stmt 0 view .LVU375
 1146 0024 6368     		ldr	r3, [r4, #4]
 1147              	.LVL56:
 1148              	.L93:
1205:./Library/stm32f4xx_dma.c ****   }
1206:./Library/stm32f4xx_dma.c ****   else
1207:./Library/stm32f4xx_dma.c ****   {
1208:./Library/stm32f4xx_dma.c ****     /* Get DMAy LISR register value */
1209:./Library/stm32f4xx_dma.c ****     tmpreg = DMAy->LISR ;
1210:./Library/stm32f4xx_dma.c ****   } 
1211:./Library/stm32f4xx_dma.c **** 
1212:./Library/stm32f4xx_dma.c ****   /* mask all reserved bits */
1213:./Library/stm32f4xx_dma.c ****   tmpreg &= (uint32_t)RESERVED_MASK;
 1149              		.loc 1 1213 3 is_stmt 1 view .LVU376
 1150              		.loc 1 1213 10 is_stmt 0 view .LVU377
 1151 0026 23F0F023 		bic	r3, r3, #-268374016
 1152              	.LVL57:
 1153              		.loc 1 1213 10 view .LVU378
 1154 002a 23F08213 		bic	r3, r3, #8519810
 1155              	.LVL58:
1214:./Library/stm32f4xx_dma.c **** 
1215:./Library/stm32f4xx_dma.c ****   /* Check the status of the specified DMA interrupt */
1216:./Library/stm32f4xx_dma.c ****   if (((tmpreg & DMA_IT) != (uint32_t)RESET) && (enablestatus != (uint32_t)RESET))
 1156              		.loc 1 1216 3 is_stmt 1 view .LVU379
 1157              		.loc 1 1216 6 is_stmt 0 view .LVU380
 1158 002e 1942     		tst	r1, r3
 1159 0030 0AD0     		beq	.L96
 1160              		.loc 1 1216 46 discriminator 1 view .LVU381
 1161 0032 6AB9     		cbnz	r2, .L97
1217:./Library/stm32f4xx_dma.c ****   {
1218:./Library/stm32f4xx_dma.c ****     /* DMA_IT is set */
1219:./Library/stm32f4xx_dma.c ****     bitstatus = SET;
1220:./Library/stm32f4xx_dma.c ****   }
1221:./Library/stm32f4xx_dma.c ****   else
1222:./Library/stm32f4xx_dma.c ****   {
1223:./Library/stm32f4xx_dma.c ****     /* DMA_IT is reset */
1224:./Library/stm32f4xx_dma.c ****     bitstatus = RESET;
ARM GAS  /tmp/ccwpGFja.s 			page 43


 1162              		.loc 1 1224 15 view .LVU382
 1163 0034 0020     		movs	r0, #0
 1164              	.LVL59:
 1165              		.loc 1 1224 15 view .LVU383
 1166 0036 08E0     		b	.L94
 1167              	.LVL60:
 1168              	.L95:
1182:./Library/stm32f4xx_dma.c ****   }
 1169              		.loc 1 1182 10 view .LVU384
 1170 0038 084C     		ldr	r4, .L99+8
 1171 003a E6E7     		b	.L89
 1172              	.LVL61:
 1173              	.L90:
1197:./Library/stm32f4xx_dma.c ****   }
 1174              		.loc 1 1197 5 is_stmt 1 view .LVU385
1197:./Library/stm32f4xx_dma.c ****   }
 1175              		.loc 1 1197 43 is_stmt 0 view .LVU386
 1176 003c 4269     		ldr	r2, [r0, #20]
1197:./Library/stm32f4xx_dma.c ****   }
 1177              		.loc 1 1197 18 view .LVU387
 1178 003e 02F08002 		and	r2, r2, #128
 1179              	.LVL62:
1197:./Library/stm32f4xx_dma.c ****   }
 1180              		.loc 1 1197 18 view .LVU388
 1181 0042 ECE7     		b	.L91
 1182              	.LVL63:
 1183              	.L92:
1209:./Library/stm32f4xx_dma.c ****   } 
 1184              		.loc 1 1209 5 is_stmt 1 view .LVU389
1209:./Library/stm32f4xx_dma.c ****   } 
 1185              		.loc 1 1209 12 is_stmt 0 view .LVU390
 1186 0044 2368     		ldr	r3, [r4]
 1187              	.LVL64:
1209:./Library/stm32f4xx_dma.c ****   } 
 1188              		.loc 1 1209 12 view .LVU391
 1189 0046 EEE7     		b	.L93
 1190              	.L96:
 1191              		.loc 1 1224 15 view .LVU392
 1192 0048 0020     		movs	r0, #0
 1193              	.LVL65:
 1194              	.L94:
1225:./Library/stm32f4xx_dma.c ****   }
1226:./Library/stm32f4xx_dma.c **** 
1227:./Library/stm32f4xx_dma.c ****   /* Return the DMA_IT status */
1228:./Library/stm32f4xx_dma.c ****   return  bitstatus;
 1195              		.loc 1 1228 3 is_stmt 1 view .LVU393
1229:./Library/stm32f4xx_dma.c **** }
 1196              		.loc 1 1229 1 is_stmt 0 view .LVU394
 1197 004a 5DF8044B 		ldr	r4, [sp], #4
 1198              	.LCFI3:
 1199              		.cfi_remember_state
 1200              		.cfi_restore 4
 1201              		.cfi_def_cfa_offset 0
 1202              	.LVL66:
 1203              		.loc 1 1229 1 view .LVU395
 1204 004e 7047     		bx	lr
 1205              	.LVL67:
ARM GAS  /tmp/ccwpGFja.s 			page 44


 1206              	.L97:
 1207              	.LCFI4:
 1208              		.cfi_restore_state
1219:./Library/stm32f4xx_dma.c ****   }
 1209              		.loc 1 1219 15 view .LVU396
 1210 0050 0120     		movs	r0, #1
 1211              	.LVL68:
1219:./Library/stm32f4xx_dma.c ****   }
 1212              		.loc 1 1219 15 view .LVU397
 1213 0052 FAE7     		b	.L94
 1214              	.L100:
 1215              		.align	2
 1216              	.L99:
 1217 0054 0F640240 		.word	1073898511
 1218 0058 00600240 		.word	1073897472
 1219 005c 00640240 		.word	1073898496
 1220              		.cfi_endproc
 1221              	.LFE140:
 1223              		.section	.text.DMA_ClearITPendingBit,"ax",%progbits
 1224              		.align	1
 1225              		.global	DMA_ClearITPendingBit
 1226              		.syntax unified
 1227              		.thumb
 1228              		.thumb_func
 1230              	DMA_ClearITPendingBit:
 1231              	.LVL69:
 1232              	.LFB141:
1230:./Library/stm32f4xx_dma.c **** 
1231:./Library/stm32f4xx_dma.c **** /**
1232:./Library/stm32f4xx_dma.c ****   * @brief  Clears the DMAy Streamx's interrupt pending bits.
1233:./Library/stm32f4xx_dma.c ****   * @param  DMAy_Streamx: where y can be 1 or 2 to select the DMA and x can be 0
1234:./Library/stm32f4xx_dma.c ****   *          to 7 to select the DMA Stream.
1235:./Library/stm32f4xx_dma.c ****   * @param  DMA_IT: specifies the DMA interrupt pending bit to clear.
1236:./Library/stm32f4xx_dma.c ****   *          This parameter can be any combination of the following values:
1237:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_TCIFx:  Streamx transfer complete interrupt
1238:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_HTIFx:  Streamx half transfer complete interrupt
1239:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_TEIFx:  Streamx transfer error interrupt
1240:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_DMEIFx: Streamx direct mode error interrupt
1241:./Library/stm32f4xx_dma.c ****   *            @arg DMA_IT_FEIFx:  Streamx FIFO error interrupt
1242:./Library/stm32f4xx_dma.c ****   *         Where x can be 0 to 7 to select the DMA Stream.
1243:./Library/stm32f4xx_dma.c ****   * @retval None
1244:./Library/stm32f4xx_dma.c ****   */
1245:./Library/stm32f4xx_dma.c **** void DMA_ClearITPendingBit(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT)
1246:./Library/stm32f4xx_dma.c **** {
 1233              		.loc 1 1246 1 is_stmt 1 view -0
 1234              		.cfi_startproc
 1235              		@ args = 0, pretend = 0, frame = 0
 1236              		@ frame_needed = 0, uses_anonymous_args = 0
 1237              		@ link register save eliminated.
1247:./Library/stm32f4xx_dma.c ****   DMA_TypeDef* DMAy;
 1238              		.loc 1 1247 3 view .LVU399
1248:./Library/stm32f4xx_dma.c **** 
1249:./Library/stm32f4xx_dma.c ****   /* Check the parameters */
1250:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_ALL_PERIPH(DMAy_Streamx));
 1239              		.loc 1 1250 3 view .LVU400
1251:./Library/stm32f4xx_dma.c ****   assert_param(IS_DMA_CLEAR_IT(DMA_IT));
 1240              		.loc 1 1251 3 view .LVU401
ARM GAS  /tmp/ccwpGFja.s 			page 45


1252:./Library/stm32f4xx_dma.c **** 
1253:./Library/stm32f4xx_dma.c ****   /* Determine the DMA to which belongs the stream */
1254:./Library/stm32f4xx_dma.c ****   if (DMAy_Streamx < DMA2_Stream0)
 1241              		.loc 1 1254 3 view .LVU402
 1242              		.loc 1 1254 6 is_stmt 0 view .LVU403
 1243 0000 0A4B     		ldr	r3, .L106
 1244 0002 9842     		cmp	r0, r3
 1245 0004 0AD8     		bhi	.L105
1255:./Library/stm32f4xx_dma.c ****   {
1256:./Library/stm32f4xx_dma.c ****     /* DMAy_Streamx belongs to DMA1 */
1257:./Library/stm32f4xx_dma.c ****     DMAy = DMA1; 
 1246              		.loc 1 1257 10 view .LVU404
 1247 0006 A3F20F43 		subw	r3, r3, #1039
 1248              	.L102:
 1249              	.LVL70:
1258:./Library/stm32f4xx_dma.c ****   } 
1259:./Library/stm32f4xx_dma.c ****   else 
1260:./Library/stm32f4xx_dma.c ****   {
1261:./Library/stm32f4xx_dma.c ****     /* DMAy_Streamx belongs to DMA2 */
1262:./Library/stm32f4xx_dma.c ****     DMAy = DMA2; 
1263:./Library/stm32f4xx_dma.c ****   }
1264:./Library/stm32f4xx_dma.c **** 
1265:./Library/stm32f4xx_dma.c ****   /* Check if LIFCR or HIFCR register is targeted */
1266:./Library/stm32f4xx_dma.c ****   if ((DMA_IT & HIGH_ISR_MASK) != (uint32_t)RESET)
 1250              		.loc 1 1266 3 is_stmt 1 view .LVU405
 1251              		.loc 1 1266 6 is_stmt 0 view .LVU406
 1252 000a 11F0005F 		tst	r1, #536870912
 1253 000e 07D0     		beq	.L103
1267:./Library/stm32f4xx_dma.c ****   {
1268:./Library/stm32f4xx_dma.c ****     /* Set DMAy HIFCR register clear interrupt bits */
1269:./Library/stm32f4xx_dma.c ****     DMAy->HIFCR = (uint32_t)(DMA_IT & RESERVED_MASK);
 1254              		.loc 1 1269 5 is_stmt 1 view .LVU407
 1255              		.loc 1 1269 19 is_stmt 0 view .LVU408
 1256 0010 21F0F021 		bic	r1, r1, #-268374016
 1257              	.LVL71:
 1258              		.loc 1 1269 19 view .LVU409
 1259 0014 21F08211 		bic	r1, r1, #8519810
 1260              		.loc 1 1269 17 view .LVU410
 1261 0018 D960     		str	r1, [r3, #12]
 1262 001a 7047     		bx	lr
 1263              	.LVL72:
 1264              	.L105:
1262:./Library/stm32f4xx_dma.c ****   }
 1265              		.loc 1 1262 10 view .LVU411
 1266 001c 044B     		ldr	r3, .L106+4
 1267 001e F4E7     		b	.L102
 1268              	.LVL73:
 1269              	.L103:
1270:./Library/stm32f4xx_dma.c ****   }
1271:./Library/stm32f4xx_dma.c ****   else 
1272:./Library/stm32f4xx_dma.c ****   {
1273:./Library/stm32f4xx_dma.c ****     /* Set DMAy LIFCR register clear interrupt bits */
1274:./Library/stm32f4xx_dma.c ****     DMAy->LIFCR = (uint32_t)(DMA_IT & RESERVED_MASK);
 1270              		.loc 1 1274 5 is_stmt 1 view .LVU412
 1271              		.loc 1 1274 19 is_stmt 0 view .LVU413
 1272 0020 21F0F021 		bic	r1, r1, #-268374016
 1273              	.LVL74:
ARM GAS  /tmp/ccwpGFja.s 			page 46


 1274              		.loc 1 1274 19 view .LVU414
 1275 0024 21F08211 		bic	r1, r1, #8519810
 1276              		.loc 1 1274 17 view .LVU415
 1277 0028 9960     		str	r1, [r3, #8]
1275:./Library/stm32f4xx_dma.c ****   }   
1276:./Library/stm32f4xx_dma.c **** }
 1278              		.loc 1 1276 1 view .LVU416
 1279 002a 7047     		bx	lr
 1280              	.L107:
 1281              		.align	2
 1282              	.L106:
 1283 002c 0F640240 		.word	1073898511
 1284 0030 00640240 		.word	1073898496
 1285              		.cfi_endproc
 1286              	.LFE141:
 1288              		.text
 1289              	.Letext0:
 1290              		.file 2 "/usr/lib/gcc/arm-none-eabi/12.2.1/include/stdint.h"
 1291              		.file 3 "./CORE/stm32f4xx.h"
 1292              		.file 4 "./Library/stm32f4xx_dma.h"
ARM GAS  /tmp/ccwpGFja.s 			page 47


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_dma.c
     /tmp/ccwpGFja.s:21     .text.DMA_DeInit:0000000000000000 $t
     /tmp/ccwpGFja.s:27     .text.DMA_DeInit:0000000000000000 DMA_DeInit
     /tmp/ccwpGFja.s:261    .text.DMA_DeInit:000000000000010c $d
     /tmp/ccwpGFja.s:284    .text.DMA_Init:0000000000000000 $t
     /tmp/ccwpGFja.s:290    .text.DMA_Init:0000000000000000 DMA_Init
     /tmp/ccwpGFja.s:410    .text.DMA_Init:0000000000000054 $d
     /tmp/ccwpGFja.s:415    .text.DMA_StructInit:0000000000000000 $t
     /tmp/ccwpGFja.s:421    .text.DMA_StructInit:0000000000000000 DMA_StructInit
     /tmp/ccwpGFja.s:481    .text.DMA_Cmd:0000000000000000 $t
     /tmp/ccwpGFja.s:487    .text.DMA_Cmd:0000000000000000 DMA_Cmd
     /tmp/ccwpGFja.s:520    .text.DMA_PeriphIncOffsetSizeConfig:0000000000000000 $t
     /tmp/ccwpGFja.s:526    .text.DMA_PeriphIncOffsetSizeConfig:0000000000000000 DMA_PeriphIncOffsetSizeConfig
     /tmp/ccwpGFja.s:559    .text.DMA_FlowControllerConfig:0000000000000000 $t
     /tmp/ccwpGFja.s:565    .text.DMA_FlowControllerConfig:0000000000000000 DMA_FlowControllerConfig
     /tmp/ccwpGFja.s:598    .text.DMA_SetCurrDataCounter:0000000000000000 $t
     /tmp/ccwpGFja.s:604    .text.DMA_SetCurrDataCounter:0000000000000000 DMA_SetCurrDataCounter
     /tmp/ccwpGFja.s:622    .text.DMA_GetCurrDataCounter:0000000000000000 $t
     /tmp/ccwpGFja.s:628    .text.DMA_GetCurrDataCounter:0000000000000000 DMA_GetCurrDataCounter
     /tmp/ccwpGFja.s:648    .text.DMA_DoubleBufferModeConfig:0000000000000000 $t
     /tmp/ccwpGFja.s:654    .text.DMA_DoubleBufferModeConfig:0000000000000000 DMA_DoubleBufferModeConfig
     /tmp/ccwpGFja.s:691    .text.DMA_DoubleBufferModeCmd:0000000000000000 $t
     /tmp/ccwpGFja.s:697    .text.DMA_DoubleBufferModeCmd:0000000000000000 DMA_DoubleBufferModeCmd
     /tmp/ccwpGFja.s:730    .text.DMA_MemoryTargetConfig:0000000000000000 $t
     /tmp/ccwpGFja.s:736    .text.DMA_MemoryTargetConfig:0000000000000000 DMA_MemoryTargetConfig
     /tmp/ccwpGFja.s:763    .text.DMA_GetCurrentMemoryTarget:0000000000000000 $t
     /tmp/ccwpGFja.s:769    .text.DMA_GetCurrentMemoryTarget:0000000000000000 DMA_GetCurrentMemoryTarget
     /tmp/ccwpGFja.s:797    .text.DMA_GetCmdStatus:0000000000000000 $t
     /tmp/ccwpGFja.s:803    .text.DMA_GetCmdStatus:0000000000000000 DMA_GetCmdStatus
     /tmp/ccwpGFja.s:836    .text.DMA_GetFIFOStatus:0000000000000000 $t
     /tmp/ccwpGFja.s:842    .text.DMA_GetFIFOStatus:0000000000000000 DMA_GetFIFOStatus
     /tmp/ccwpGFja.s:866    .text.DMA_GetFlagStatus:0000000000000000 $t
     /tmp/ccwpGFja.s:872    .text.DMA_GetFlagStatus:0000000000000000 DMA_GetFlagStatus
     /tmp/ccwpGFja.s:942    .text.DMA_GetFlagStatus:0000000000000030 $d
     /tmp/ccwpGFja.s:948    .text.DMA_ClearFlag:0000000000000000 $t
     /tmp/ccwpGFja.s:954    .text.DMA_ClearFlag:0000000000000000 DMA_ClearFlag
     /tmp/ccwpGFja.s:1007   .text.DMA_ClearFlag:000000000000002c $d
     /tmp/ccwpGFja.s:1013   .text.DMA_ITConfig:0000000000000000 $t
     /tmp/ccwpGFja.s:1019   .text.DMA_ITConfig:0000000000000000 DMA_ITConfig
     /tmp/ccwpGFja.s:1087   .text.DMA_GetITStatus:0000000000000000 $t
     /tmp/ccwpGFja.s:1093   .text.DMA_GetITStatus:0000000000000000 DMA_GetITStatus
     /tmp/ccwpGFja.s:1217   .text.DMA_GetITStatus:0000000000000054 $d
     /tmp/ccwpGFja.s:1224   .text.DMA_ClearITPendingBit:0000000000000000 $t
     /tmp/ccwpGFja.s:1230   .text.DMA_ClearITPendingBit:0000000000000000 DMA_ClearITPendingBit
     /tmp/ccwpGFja.s:1283   .text.DMA_ClearITPendingBit:000000000000002c $d

NO UNDEFINED SYMBOLS
